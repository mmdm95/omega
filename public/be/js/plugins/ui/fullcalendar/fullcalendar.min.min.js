/*!
 * FullCalendar v2.9.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2016 Adam Shaw
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery","moment"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("moment")):b(jQuery,moment)}(function(bL,bK){function bJ(b){return bU(b,a3)}function bI(a){var f,e={views:a.views||{}};return bL.each(a,function(c,d){"views"!=c&&(bL.isPlainObject(d)&&!/(time|duration|interval)$/i.test(c)&&-1==bL.inArray(c,a3)?(f=null,bL.each(d,function(b,g){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(b)?(e.views[b]||(e.views[b]={}),e.views[b][c]=g):(f||(f={}),f[b]=g)}),f&&(e[c]=f)):e[c]=d)}),e}function bH(d,c){c.left&&d.css({"border-left-width":1,"margin-left":c.left-1}),c.right&&d.css({"border-right-width":1,"margin-right":c.right-1})}function bF(b){b.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function bD(){bL("body").addClass("fc-not-allowed")}function bC(){bL("body").removeClass("fc-not-allowed")}function bB(r,q,p){var o=Math.floor(q/r.length),n=Math.floor(q-o*(r.length-1)),m=[],l=[],j=[],a=0;bA(r),r.each(function(g,f){var e=g===r.length-1?n:o,b=bL(f).outerHeight(!0);e>b?(m.push(f),l.push(b),j.push(bL(f).height())):a+=b}),p&&(q-=a,o=Math.floor(q/m.length),n=Math.floor(q-o*(m.length-1))),bL(m).each(function(e,s){var i=e===m.length-1?n:o,h=l[e],g=j[e],f=i-(h-g);i>h&&bL(s).height(f)})}function bA(b){b.height("")}function bz(a){var d=0;return a.find("> span").each(function(c,g){var f=bL(g).outerWidth();f>d&&(d=f)}),d++,a.width(d),d}function by(f,e){var h,g=f.add(e);return g.css({position:"relative",left:-1}),h=f.outerHeight()-e.outerHeight(),g.css({position:"",left:""}),h}function bx(a){var f=a.css("position"),e=a.parents().filter(function(){var c=bL(this);return/(auto|scroll)/.test(c.css("overflow")+c.css("overflow-y")+c.css("overflow-x"))}).eq(0);return"fixed"!==f&&e.length?e:bL(a[0].ownerDocument||document)}function bw(g,f){var j=g.offset(),i=j.left-(f?f.left:0),h=j.top-(f?f.top:0);return{left:i,right:i+g.outerWidth(),top:h,bottom:h+g.outerHeight()}}function bv(h,g){var l=h.offset(),k=bs(h),j=l.left+bp(h,"border-left-width")+k.left-(g?g.left:0),i=l.top+bp(h,"border-top-width")+k.top-(g?g.top:0);return{left:j,right:j+h[0].clientWidth,top:i,bottom:i+h[0].clientHeight}}function bu(g,f){var j=g.offset(),i=j.left+bp(g,"border-left-width")+bp(g,"padding-left")-(f?f.left:0),h=j.top+bp(g,"border-top-width")+bp(g,"padding-top")-(f?f.top:0);return{left:i,right:i+g.width(),top:h,bottom:h+g.height()}}function bs(e){var d=e.innerWidth()-e[0].clientWidth,f={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return br()&&"rtl"==e.css("direction")?f.left=d:f.right=d,f}function br(){return null===aU&&(aU=bq()),aU}function bq(){var a=bL("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),f=a.children(),e=f.offset().left>a.offset().left;return a.remove(),e}function bp(d,c){return parseFloat(d.css(c))||0}function bo(b){return 1==b.which&&!b.ctrlKey}function bn(d){if(void 0!==d.pageX){return d.pageX}var c=d.originalEvent.touches;return c?c[0].pageX:void 0}function bm(d){if(void 0!==d.pageY){return d.pageY}var c=d.originalEvent.touches;return c?c[0].pageY:void 0}function bl(b){return/^touch/.test(b.type)}function bk(b){b.addClass("fc-unselectable").on("selectstart",bi)}function bi(b){b.preventDefault()}function cl(b){return window.addEventListener?(window.addEventListener("scroll",b,!0),!0):!1}function ck(b){return window.removeEventListener?(window.removeEventListener("scroll",b,!0),!0):!1}function cj(e,d){var f={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)};return f.left<f.right&&f.top<f.bottom?f:!1}function ci(d,c){return{left:Math.min(Math.max(d.left,c.left),c.right),top:Math.min(Math.max(d.top,c.top),c.bottom)}}function ch(b){return{left:(b.left+b.right)/2,top:(b.top+b.bottom)/2}}function cg(d,c){return{left:d.left-c.left,top:d.top-c.top}}function ce(a){var j,i,h=[],g=[];for("string"==typeof a?g=a.split(/\s*,\s*/):"function"==typeof a?g=[a]:bL.isArray(a)&&(g=a),j=0;j<g.length;j++){i=g[j],"string"==typeof i?h.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&h.push({func:i})}return h}function cc(g,f,j){var i,h;for(i=0;i<j.length;i++){if(h=b9(g,f,j[i])){return h}}return 0}function b9(e,d,f){return f.func?f.func(e,d):b8(e[f.field],d[f.field])*(f.order||1)}function b8(a,d){return a||d?null==d?-1:null==a?1:"string"===bL.type(a)||"string"===bL.type(d)?String(a).localeCompare(String(d)):a-d:0}function b7(t,s){var r,q,p,o,n=t.start,m=t.end,l=s.start,k=s.end;return m>l&&k>n?(n>=l?(r=n.clone(),p=!0):(r=l.clone(),p=!1),k>=m?(q=m.clone(),o=!0):(q=k.clone(),o=!1),{start:r,end:q,isStart:p,isEnd:o}):void 0}function b6(b,d){return bK.duration({days:b.clone().stripTime().diff(d.clone().stripTime(),"days"),ms:b.time()-d.time()})}function b5(b,d){return bK.duration({days:b.clone().stripTime().diff(d.clone().stripTime(),"days")})}function b4(b,f,e){return bK.duration(Math.round(b.diff(f,e,!0)),e)}function b3(g,f){var j,i,h;for(j=0;j<ah.length&&(i=ah[j],h=b2(i,g,f),!(h>=1&&aH(h)));j++){}return i}function b2(b,f,e){return null!=e?e.diff(f,b,!0):bK.isDuration(f)?f.as(b):f.end.diff(f.start,b,!0)}function b1(f,e,h){var g;return bX(h)?(e-f)/h:(g=h.asMonths(),Math.abs(g)>=1&&aH(g)?e.diff(f,"months",!0)/g:e.diff(f,"days",!0)/h.asDays())}function bZ(f,e){var h,g;return bX(f)||bX(e)?f/e:(h=f.asMonths(),g=e.asMonths(),Math.abs(h)>=1&&aH(h)&&Math.abs(g)>=1&&aH(g)?h/g:f.asDays()/e.asDays())}function bY(b,f){var e;return bX(b)?bK.duration(b*f):(e=b.asMonths(),Math.abs(e)>=1&&aH(e)?bK.duration({months:e*f}):bK.duration({days:b.asDays()*f}))}function bX(b){return Boolean(b.hours()||b.minutes()||b.seconds()||b.milliseconds())}function bW(b){return"[object Date]"===Object.prototype.toString.call(b)||b instanceof Date}function bV(b){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(b)}function bU(r,q){var p,o,n,m,l,k,j={};if(q){for(p=0;p<q.length;p++){for(o=q[p],n=[],m=r.length-1;m>=0;m--){if(l=r[m][o],"object"==typeof l){n.unshift(l)}else{if(void 0!==l){j[o]=l;break}}}n.length&&(j[o]=bU(n))}}for(p=r.length-1;p>=0;p--){k=r[p];for(o in k){o in j||(j[o]=k[o])}}return j}function bT(d){var c=function(){};return c.prototype=d,new c}function bS(e,d){for(var f in e){cw(e,f)&&(d[f]=e[f])}}function bR(g,f){var j,i,h=["constructor","toString","valueOf"];for(j=0;j<h.length;j++){i=h[j],g[i]!==Object.prototype[i]&&(f[i]=g[i])}}function cw(d,c){return bd.call(d,c)}function bM(a){return/undefined|null|boolean|number|string/.test(bL.type(a))}function cv(a,j,i){if(bL.isFunction(a)&&(a=[a]),a){var h,g;for(h=0;h<a.length;h++){g=a[h].apply(j,i)||g}return g}}function cf(){for(var b=0;b<arguments.length;b++){if(void 0!==arguments[b]){return arguments[b]}}}function bG(b){return(b+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function be(b){return b.replace(/&.*?;/g,"")}function a5(a){var d=[];return bL.each(a,function(e,c){null!=c&&d.push(e+":"+c)}),d.join(";")}function aY(b){return b.charAt(0).toUpperCase()+b.slice(1)}function aP(d,c){return d-c}function aH(b){return b%1===0}function aA(e,d){var f=e[d];return function(){return f.apply(e,arguments)}}function at(r,q,p){var o,n,m,l,k,j=function(){var a=+new Date-l;q>a?o=setTimeout(j,q-a):(o=null,p||(k=r.apply(m,n),m=n=null))};return function(){m=this,n=arguments,l=+new Date;var a=p&&!o;return o||(o=setTimeout(j,q)),a&&(k=r.apply(m,n),m=n=null),k}}function al(a,d){return a&&a.then&&"resolved"!==a.state()?d?a.then(d):void 0:bL.when(d())}function ad(r,q,p){var o,n,m,l,b=r[0],a=1==r.length&&"string"==typeof b;return bK.isMoment(b)?(l=bK.apply(null,r),cq(b,l)):bW(b)||void 0===b?l=bK.apply(null,r):(o=!1,n=!1,a?a4.test(b)?(b+="-01",r=[b],o=!0,n=!0):(m=aX.exec(b))&&(o=!m[5],n=!0):bL.isArray(b)&&(n=!0),l=q||o?bK.utc.apply(bK,r):bK.apply(null,r),o?(l._ambigTime=!0,l._ambigZone=!0):p&&(n?l._ambigZone=!0:a&&(l.utcOffset?l.utcOffset(b):l.zone(b)))),l._fullCalendar=!0,l}function cA(b,p){var o,n,m=!1,l=!1,k=b.length,j=[];for(o=0;k>o;o++){n=b[o],bK.isMoment(n)||(n=bt.moment.parseZone(n)),m=m||n._ambigTime,l=l||n._ambigZone,j.push(n)}for(o=0;k>o;o++){n=j[o],p||!m||n._ambigTime?l&&!n._ambigZone&&(j[o]=n.clone().stripZone()):j[o]=n.clone().stripTime()}return j}function cq(d,c){d._ambigTime?c._ambigTime=!0:c._ambigTime&&(c._ambigTime=!1),d._ambigZone?c._ambigZone=!0:c._ambigZone&&(c._ambigZone=!1)}function bQ(d,c){d.year(c[0]||0).month(c[1]||0).date(c[2]||0).hours(c[3]||0).minutes(c[4]||0).seconds(c[5]||0).milliseconds(c[6]||0)}function bj(d,c){return aG.format.call(d,c)}function a9(d,c){return a2(d,ao(c))}function a2(f,e){var h,g="";for(h=0;h<e.length;h++){g+=aT(f,e[h])}return g}function aT(f,e){var h,g;return"string"==typeof e?e:(h=e.token)?az[h]?az[h](f):bj(f,h):e.maybe&&(g=a2(f,e.maybe),g.match(/[1-9]/))?g:""}function aL(h,g,l,k,j){var i;return h=bt.moment.parseZone(h),g=bt.moment.parseZone(g),i=(h.localeData||h.lang).call(h),l=i.longDateFormat(l)||l,k=k||" - ",aD(h,g,ao(l),k,j)}function aD(F,E,D,C,B){var A,z,y,x,w=F.clone().stripZone(),v=E.clone().stripZone(),u="",t="",s="",r="",q="";for(z=0;z<D.length&&(A=aw(F,E,w,v,D[z]),A!==!1);z++){u+=A}for(y=D.length-1;y>z&&(A=aw(F,E,w,v,D[y]),A!==!1);y--){t=A+t}for(x=z;y>=x;x++){s+=aT(F,D[x]),r+=aT(E,D[x])}return(s||r)&&(q=B?r+C+s:s+C+r),u+q+t}function aw(i,h,n,m,l){var k,j;return"string"==typeof l?l:(k=l.token)&&(j=ar[k.charAt(0)],j&&n.isSame(m,j))?bj(i,k):!1}function ao(b){return b in ak?ak[b]:ak[b]=ag(b)}function ag(f){for(var e,h=[],g=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=g.exec(f);){e[1]?h.push(e[1]):e[2]?h.push({maybe:ag(e[2])}):e[3]?h.push({token:e[3]}):e[5]&&h.push(e[5])}return h}function cD(){}function ct(e,d){var f;return cw(d,"constructor")&&(f=d.constructor),"function"!=typeof f&&(f=d.constructor=function(){e.apply(this,arguments)}),f.prototype=bT(e.prototype),bS(d,f.prototype),bR(d,f.prototype),bS(e,f),f}function aW(d,c){bS(c,d.prototype)}function aN(d,c){return d||c?d&&c?d.component===c.component&&aF(d,c)&&aF(c,d):!1:!0}function aF(e,d){for(var f in e){if(!/^(component|left|right|top|bottom)$/.test(f)&&e[f]!==d[f]){return !1}}return !0}function ay(d){var c=aj(d);return"background"===c||"inverse-background"===c}function aq(b){return"inverse-background"===aj(b)}function aj(b){return cf((b.source||{}).rendering,b.rendering)}function cF(f){var e,h,g={};for(e=0;e<f.length;e++){h=f[e],(g[h._id]||(g[h._id]=[])).push(h)}return g}function cy(d,c){return d.start-c.start}function co(l){var k,j,i,b,a=bt.dataAttrPrefix;return a&&(a+="-"),k=l.data(a+"event")||null,k&&(k="object"==typeof k?bL.extend({},k):{},j=k.start,null==j&&(j=k.time),i=k.duration,b=k.stick,delete k.start,delete k.time,delete k.duration,delete k.stick),null==j&&(j=l.data(a+"start")),null==j&&(j=l.data(a+"time")),null==i&&(i=l.data(a+"duration")),null==b&&(b=l.data(a+"stick")),j=null!=j?bK.duration(j):null,i=null!=i?bK.duration(i):null,b=Boolean(b),{eventProps:k,startTime:j,duration:i,stick:b}}function bO(f,e){var h,g;for(h=0;h<e.length;h++){if(g=e[h],g.leftCol<=f.rightCol&&g.rightCol>=f.leftCol){return !0}}return !1}function bg(d,c){return d.leftCol-c.leftCol}function a7(g){var f,j,i,h=[];for(f=0;f<g.length;f++){for(j=g[f],i=0;i<h.length&&aJ(j,h[i]).length;i++){}j.level=i,(h[i]||(h[i]=[])).push(j)}return h}function a0(h){var g,l,k,j,i;for(g=0;g<h.length;g++){for(l=h[g],k=0;k<l.length;k++){for(j=l[k],j.forwardSegs=[],i=g+1;i<h.length;i++){aJ(j,h[i],j.forwardSegs)}}}}function aR(g){var f,j,i=g.forwardSegs,h=0;if(void 0===g.forwardPressure){for(f=0;f<i.length;f++){j=i[f],aR(j),h=Math.max(h,1+j.forwardPressure)}g.forwardPressure=h}}function aJ(f,e,h){h=h||[];for(var g=0;g<e.length;g++){aB(f,e[g])&&h.push(e[g])}return h}function aB(d,c){return d.bottom>c.top&&d.top<c.bottom}function au(dv,du){function dt(c){"_locale" in c?c._locale=bb:c._lang=bb}function ds(){X?dn()&&(di(),dm()):dr()}function dr(){dv.addClass("fc"),cb.bindOption("theme",function(c){d=c?"ui":"fc",dv.toggleClass("ui-widget",c),dv.toggleClass("fc-unthemed",!c)}),cb.bindOptions(["isRTL","lang"],function(c){dv.toggleClass("fc-ltr",!c),dv.toggleClass("fc-rtl",c)}),X=bL("<div class='fc-view-container'/>").prependTo(dv),ab=cb.header=new cB(cb),dq(),dm(cb.options.defaultView),cb.options.handleWindowResize&&(c0=at(df,cb.options.windowResizeDelay),bL(window).resize(c0))}function dq(){ab.render(),ab.el&&dv.prepend(ab.el)}function dp(){c3&&c3.removeElement(),ab.removeElement(),X.remove(),dv.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),c0&&bL(window).unbind("resize",c0)}function dn(){return dv.is(":visible")}function dm(e,f){b++,c3&&e&&c3.type!==e&&(cM(),dl()),!c3&&e&&(c3=cb.view=c2[e]||(c2[e]=cb.instantiateView(e)),c3.setElement(bL("<div class='fc-view fc-"+e+"-view' />").appendTo(X)),ab.activateButton(e)),c3&&(dw=c3.massageCurrentDate(dw),c3.displaying&&dw.isWithin(c3.intervalStart,c3.intervalEnd)||dn()&&(c3.display(dw,f),cL(),cZ(),cY(),db())),cL(),b--}function dl(){ab.deactivateButton(c3.type),c3.removeElement(),c3=cb.view=null}function dk(){b++,cM();var e=c3.type,c=c3.queryScroll();dl(),dm(e,c),cL(),b--}function dj(c){return dn()?(c&&dh(),b++,c3.updateSize(!0),b--,!0):void 0}function di(){dn()&&dh()}function dh(){var e=cb.options.contentHeight,c=cb.options.height;dx="number"==typeof e?e:"function"==typeof e?e():"number"==typeof c?c-dg():"function"==typeof c?c()-dg():"parent"===c?dv.parent().height()-dg():Math.round(X.width()/Math.max(cb.options.aspectRatio,0.5))}function dg(){return ab.el?ab.el.outerHeight(!0):0}function df(c){!b&&c.target===window&&c3.start&&dj(!0)&&c3.trigger("windowResize",c5)}function de(){c9()}function dd(c){a(cb.getEventSourcesByMatchArray(c))}function dc(){dn()&&(cM(),c3.displayEvents(c6),cL())}function db(){!cb.options.lazyFetching||c4(c3.start,c3.end)?c9():dc()}function c9(){c1(c3.start,c3.end)}function c8(c){c6=c,dc()}function c7(){dc()}function cZ(){ab.updateTitle(c3.title)}function cY(){var c=cb.getNow();c.isWithin(c3.intervalStart,c3.intervalEnd)?ab.disableButton("today"):ab.enableButton("today")}function cX(e,c){c3.select(cb.buildSelectSpan.apply(cb,arguments))}function cW(){c3&&c3.unselect()}function cV(){dw=c3.computePrevDate(dw),dm()}function cU(){dw=c3.computeNextDate(dw),dm()}function cT(){dw.add(-1,"years"),dm()}function cS(){dw.add(1,"years"),dm()}function cR(){dw=cb.getNow(),dm()}function cQ(c){dw=cb.moment(c).stripZone(),dm()}function cP(c){dw.add(bK.duration(c)),dm()}function cO(f,e){var g;e=e||"day",g=cb.getViewSpec(e)||cb.getUnitViewSpec(e),dw=f.clone(),dm(g?g.type:null)}function cN(){return cb.applyTimezone(dw)}function cM(){X.css({width:"100%",height:X.height(),overflow:"hidden"})}function cL(){X.css({width:"",height:"",overflow:""})}function cK(){return cb}function cJ(){return c3}function cI(f,e){var g;if("string"==typeof f){if(void 0===e){return cb.options[f]}g={},g[f]=e,cH(g)}else{"object"==typeof f&&cH(f)}}function cH(f){var e,g=0;for(e in f){cb.dynamicOverrides[e]=f[e]}cb.viewSpecCache={},cb.populateOptionsHash();for(e in f){cb.triggerOptionHandlers(e),g++}if(1===g){if("height"===e||"contentHeight"===e||"aspectRatio"===e){return void dj(!0)}if("defaultDate"===e){return}if("businessHours"===e){return void (c3&&(c3.unrenderBusinessHours(),c3.renderBusinessHours()))}if("timezone"===e){return cb.rezoneArrayEventSources(),void de()}}dq(),c2={},dk()}function cG(f,e){var g=Array.prototype.slice.call(arguments,2);return e=e||c5,this.triggerWith(f,e,g),cb.options[f]?cb.options[f].apply(e,g):void 0}var cb=this;cb.render=ds,cb.destroy=dp,cb.refetchEvents=de,cb.refetchEventSources=dd,cb.reportEvents=c8,cb.reportEventChange=c7,cb.rerenderEvents=dc,cb.changeView=dm,cb.select=cX,cb.unselect=cW,cb.prev=cV,cb.next=cU,cb.prevYear=cT,cb.nextYear=cS,cb.today=cR,cb.gotoDate=cQ,cb.incrementDate=cP,cb.zoomTo=cO,cb.getDate=cN,cb.getCalendar=cK,cb.getView=cJ,cb.option=cI,cb.trigger=cG,cb.dynamicOverrides={},cb.viewSpecCache={},cb.optionHandlers={},cb.overrides=bI(du||{}),cb.populateOptionsHash();var bb;cb.bindOptions(["lang","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(j,f,p,o,n,m,l){if(bb=bT(ae(j)),f&&(bb._months=f),p&&(bb._monthsShort=p),o&&(bb._weekdays=o),n&&(bb._weekdaysShort=n),null!=m){var k=bT(bb._week);k.dow=m,bb._week=k}"iso"===l&&(l="ISO"),"ISO"!==l&&"local"!==l&&"function"!=typeof l||(bb._fullCalendar_weekCalc=l),dw&&dt(dw)}),cb.defaultAllDayEventDuration=bK.duration(cb.options.defaultAllDayEventDuration),cb.defaultTimedEventDuration=bK.duration(cb.options.defaultTimedEventDuration),cb.moment=function(){var c;return"local"===cb.options.timezone?(c=bt.moment.apply(null,arguments),c.hasTime()&&c.local()):c="UTC"===cb.options.timezone?bt.moment.utc.apply(null,arguments):bt.moment.parseZone.apply(null,arguments),dt(c),c},cb.getIsAmbigTimezone=function(){return"local"!==cb.options.timezone&&"UTC"!==cb.options.timezone},cb.applyTimezone=function(f){if(!f.hasTime()){return f.clone()}var e,h=cb.moment(f.toArray()),g=f.time()-h.time();return g&&(e=h.clone().add(g),f.time()-e.time()===0&&(h=e)),h},cb.getNow=function(){var c=cb.options.now;return"function"==typeof c&&(c=c()),cb.moment(c).stripZone()},cb.getEventEnd=function(c){return c.end?c.end.clone():cb.getDefaultEventEnd(c.allDay,c.start)},cb.getDefaultEventEnd=function(f,e){var g=e.clone();return f?g.stripTime().add(cb.defaultAllDayEventDuration):g.add(cb.defaultTimedEventDuration),cb.getIsAmbigTimezone()&&g.stripZone(),g},cb.humanizeDuration=function(c){return(c.locale||c.lang).call(c,cb.options.lang).humanize()},cr.call(cb);var ab,X,d,c3,dx,c0,dw,c4=cb.isFetchNeeded,c1=cb.fetchEvents,a=cb.fetchEventSources,c5=dv[0],c2={},b=0,c6=[];dw=null!=cb.options.defaultDate?cb.moment(cb.options.defaultDate).stripZone():cb.getNow(),cb.getSuggestedViewHeight=function(){return void 0===dx&&di(),dx},cb.isHeightAuto=function(){return"auto"===cb.options.contentHeight||"auto"===cb.options.height},cb.freezeContentHeight=cM,cb.unfreezeContentHeight=cL,cb.initialize()}function am(a){bL.each(ax,function(b,d){null==a[b]&&(a[b]=d(a))})}function ae(b){var d=bK.localeData||bK.langData;return d.call(bK,b)||d.call(bK,"en")}function cB(B){function A(){var d=B.options,b=d.header;p=d.theme?"ui":"fc",b?(q?q.empty():q=this.el=bL("<div class='fc-toolbar'/>"),q.append(y("left")).append(y("right")).append(y("center")).append('<div class="fc-clear"/>')):z()}function z(){q&&(q.remove(),q=r.el=null)}function y(i){var h=bL('<div class="fc-'+i+'"/>'),g=B.options,b=g.header[i];return b&&bL.each(b.split(" "),function(k){var j,e=bL(),d=!0;bL.each(this.split(","),function(K,J){var I,H,G,F,E,D,C,o,n,L;"title"==J?(e=e.add(bL("<h2>&nbsp;</h2>")),d=!1):((I=(g.customButtons||{})[J])?(G=function(c){I.click&&I.click.call(L[0],c)},F="",E=I.text):(H=B.getViewSpec(J))?(G=function(){B.changeView(J)},a.push(J),F=H.buttonTextOverride,E=H.buttonTextDefault):B[J]&&(G=function(){B[J]()},F=(B.overrides.buttonText||{})[J],E=g.buttonText[J]),G&&(D=I?I.themeIcon:g.themeButtonIcons[J],C=I?I.icon:g.buttonIcons[J],o=F?bG(F):D&&g.theme?"<span class='ui-icon ui-icon-"+D+"'></span>":C&&!g.theme?"<span class='fc-icon fc-icon-"+C+"'></span>":bG(E),n=["fc-"+J+"-button",p+"-button",p+"-state-default"],L=bL('<button type="button" class="'+n.join(" ")+'">'+o+"</button>").click(function(c){L.hasClass(p+"-state-disabled")||(G(c),(L.hasClass(p+"-state-active")||L.hasClass(p+"-state-disabled"))&&L.removeClass(p+"-state-hover"))}).mousedown(function(){L.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){L.removeClass(p+"-state-down")}).hover(function(){L.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){L.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),e=e.add(L)))}),d&&e.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),e.length>1?(j=bL("<div/>"),d&&j.addClass("fc-button-group"),j.append(e),h.append(j)):h.append(e)}),h}function x(b){q&&q.find("h2").text(b)}function w(b){q&&q.find(".fc-"+b+"-button").addClass(p+"-state-active")}function v(b){q&&q.find(".fc-"+b+"-button").removeClass(p+"-state-active")}function u(b){q&&q.find(".fc-"+b+"-button").prop("disabled",!0).addClass(p+"-state-disabled")}function t(b){q&&q.find(".fc-"+b+"-button").prop("disabled",!1).removeClass(p+"-state-disabled")}function s(){return a}var r=this;r.render=A,r.removeElement=z,r.updateTitle=x,r.activateButton=w,r.deactivateButton=v,r.disableButton=u,r.enableButton=t,r.getViewsWithButtons=s,r.el=null;var q,p,a=[]}function cr(){function de(d,c){return !V||V>d||c>N}function dd(d,c){V=d,N=c,dc(b,"reset")}function dc(f,e){var h,g;for("reset"===e?cQ=[]:"add"!==e&&(cQ=cW(cQ,f)),h=0;h<f.length;h++){g=f[h],"pending"!==g._status&&a++,g._fetchId=(g._fetchId||0)+1,g._status="pending"}for(h=0;h<f.length;h++){g=f[h],db(g,g._fetchId)}}function db(d,e){c8(d,function(l){var k,j,h,c=bL.isArray(d.events);if(e===d._fetchId&&"rejected"!==d._status){if(d._status="resolved",l){for(k=0;k<l.length;k++){j=l[k],h=c?j:cN(j,d),h&&cQ.push.apply(cQ,cJ(h))}}c9()}})}function da(d){var c="pending"===d._status;d._status="rejected",c&&c9()}function c9(){a--,a||M(cQ)}function c8(E,D){var C,B,A=bt.sourceFetchers;for(C=0;C<A.length;C++){if(B=A[C].call(aa,E,V.clone(),N.clone(),aa.options.timezone,D),B===!0){return}if("object"==typeof B){return void c8(B,D)}}var z=E.events;if(z){bL.isFunction(z)?(aa.pushLoading(),z.call(aa,V.clone(),N.clone(),aa.options.timezone,function(c){D(c),aa.popLoading()})):bL.isArray(z)?D(z):D()}else{var y=E.url;if(y){var x,w=E.success,v=E.error,u=E.complete;x=bL.isFunction(E.data)?E.data():E.data;var t=bL.extend({},x||{}),s=cf(E.startParam,aa.options.startParam),r=cf(E.endParam,aa.options.endParam),i=cf(E.timezoneParam,aa.options.timezoneParam);s&&(t[s]=V.format()),r&&(t[r]=N.format()),aa.options.timezone&&"local"!=aa.options.timezone&&(t[i]=aa.options.timezone),aa.pushLoading(),bL.ajax(bL.extend({},ap,E,{data:t,success:function(c){c=c||[];var e=cv(w,this,arguments);bL.isArray(e)&&(c=e),D(c)},error:function(){cv(v,this,arguments),D()},complete:function(){cv(u,this,arguments),aa.popLoading()}}))}else{D()}}}function c7(d){var c=c6(d);c&&(b.push(c),dc([c],"add"))}function c6(f){var i,h,g=bt.sourceNormalizers;if(bL.isFunction(f)||bL.isArray(f)?i={events:f}:"string"==typeof f?i={url:f}:"object"==typeof f&&(i=bL.extend({},f)),i){for(i.className?"string"==typeof i.className&&(i.className=i.className.split(/\s+/)):i.className=[],bL.isArray(i.events)&&(i.origArray=i.events,i.events=bL.map(i.events,function(c){return cN(c,i)})),h=0;h<g.length;h++){g[h].call(aa,i)}return i}}function c5(c){c3(cZ(c))}function c4(c){null==c?c3(b,!0):c3(c0(c))}function c3(e,g){var f;for(f=0;f<e.length;f++){da(e[f])}g?(b=[],cQ=[]):(b=bL.grep(b,function(c){for(f=0;f<e.length;f++){if(c===e[f]){return !1}}return !0}),cQ=cW(cQ,e)),M(cQ)}function c2(){return b.slice(1)}function c1(c){return bL.grep(b,function(d){return d.id&&d.id===c})[0]}function c0(e){e?bL.isArray(e)||(e=[e]):e=[];var g,f=[];for(g=0;g<e.length;g++){f.push.apply(f,cZ(e[g]))}return f}function cZ(e){var g,f;for(g=0;g<b.length;g++){if(f=b[g],f===e){return[f]}}return f=c1(e),f?[f]:bL.grep(b,function(c){return cY(e,c)})}function cY(d,c){return d&&c&&cX(d)==cX(c)}function cX(c){return("object"==typeof c?c.origArray||c.googleCalendarId||c.url||c.events:null)||c}function cW(d,e){return bL.grep(d,function(f){for(var c=0;c<e.length;c++){if(f.source===e[c]){return !1}}return !0})}function cV(c){c.start=aa.moment(c.start),c.end?c.end=aa.moment(c.end):c.end=null,cI(c,cU(c)),M(cQ)}function cU(d){var e={};return bL.each(d,function(f,c){cT(f)&&void 0!==c&&bM(c)&&(e[f]=c)}),e}function cT(c){return !/^_|^(id|allDay|start|end)$/.test(c)}function cS(h,g){var l,k,j,i=cN(h);if(i){for(l=cJ(i),k=0;k<l.length;k++){j=l[k],j.source||(g&&(L.events.push(j),j.source=L),cQ.push(j))}return M(cQ),l}return[]}function cR(e){var g,f;for(null==e?e=function(){return !0}:bL.isFunction(e)||(g=e+"",e=function(c){return c._id==g}),cQ=bL.grep(cQ,e,!0),f=0;f<b.length;f++){bL.isArray(b[f].events)&&(b[f].events=bL.grep(b[f].events,e,!0))}M(cQ)}function cP(c){return bL.isFunction(c)?bL.grep(cQ,c):null!=c?(c+="",bL.grep(cQ,function(d){return d._id==c})):cQ}function cO(c){c.start=aa.moment(c.start),c.end&&(c.end=aa.moment(c.end)),b0(c)}function cN(n,m){var l,k,j,i={};if(aa.options.eventDataTransform&&(n=aa.options.eventDataTransform(n)),m&&m.eventDataTransform&&(n=m.eventDataTransform(n)),bL.extend(i,n),m&&(i.source=m),i._id=n._id||(void 0===n.id?"_fc"+ai++:n.id+""),n.className?"string"==typeof n.className?i.className=n.className.split(/\s+/):i.className=n.className:i.className=[],l=n.start||n.date,k=n.end,bV(l)&&(l=bK.duration(l)),bV(k)&&(k=bK.duration(k)),n.dow||bK.isDuration(l)||bK.isDuration(k)){i.start=l?bK.duration(l):null,i.end=k?bK.duration(k):null,i._recurring=!0}else{if(l&&(l=aa.moment(l),!l.isValid())){return !1}k&&(k=aa.moment(k),k.isValid()||(k=null)),j=n.allDay,void 0===j&&(j=cf(m?m.allDayDefault:void 0,aa.options.allDayDefault)),cM(l,k,j,i)}return aa.normalizeEvent(i),i}function cM(f,e,h,g){g.start=f,g.end=e,g.allDay=h,cL(g),b0(g)}function cL(c){cK(c),c.end&&!c.end.isAfter(c.start)&&(c.end=null),c.end||(aa.options.forceEventDuration?c.end=aa.getDefaultEventEnd(c.allDay,c.start):c.end=null)}function cK(c){null==c.allDay&&(c.allDay=!(c.start.hasTime()||c.end&&c.end.hasTime())),c.allDay?(c.start.stripTime(),c.end&&c.end.stripTime()):(c.start.hasTime()||(c.start=aa.applyTimezone(c.start.time(0))),c.end&&!c.end.hasTime()&&(c.end=aa.applyTimezone(c.end.time(0))))}function cJ(A,z,y){var x,w,v,u,t,s,r,q,p,o=[];if(z=z||V,y=y||N,A){if(A._recurring){if(w=A.dow){for(x={},v=0;v<w.length;v++){x[w[v]]=!0}}for(u=z.clone().stripTime();u.isBefore(y);){x&&!x[u.day()]||(t=A.start,s=A.end,r=u.clone(),q=null,t&&(r=r.time(t)),s&&(q=u.clone().time(s)),p=bL.extend({},A),cM(r,q,!t&&!s,p),o.push(p)),u.add(1,"days")}}else{o.push(A)}}return o}function cI(w,v,u){function t(d,c){return u?b4(d,c,u):v.allDay?b5(d,c):b6(d,c)}var s,r,q,p,o,n,m={};return v=v||{},v.start||(v.start=w.start.clone()),void 0===v.end&&(v.end=w.end?w.end.clone():null),null==v.allDay&&(v.allDay=w.allDay),cL(v),s={start:w._start.clone(),end:w._end?w._end.clone():aa.getDefaultEventEnd(w._allDay,w._start),allDay:v.allDay},cL(s),r=null!==w._end&&null===v.end,q=t(v.start,s.start),v.end?(p=t(v.end,s.end),o=p.subtract(q)):o=null,bL.each(v,function(d,c){cT(d)&&void 0!==c&&(m[d]=c)}),n=cH(cP(w._id),r,v.allDay,q,o,m),{dateDelta:q,durationDelta:o,undo:n}}function cH(j,q,p,o,n,m){var l=aa.getIsAmbigTimezone(),k=[];return o&&!o.valueOf()&&(o=null),n&&!n.valueOf()&&(n=null),bL.each(j,function(c,f){var e,d;e={start:f.start.clone(),end:f.end?f.end.clone():null,allDay:f.allDay},bL.each(m,function(g){e[g]=f[g]}),d={start:f._start,end:f._end,allDay:p},cL(d),q?d.end=null:n&&!d.end&&(d.end=aa.getDefaultEventEnd(d.allDay,d.start)),o&&(d.start.add(o),d.end&&d.end.add(o)),n&&d.end.add(n),l&&!d.allDay&&(o||n)&&(d.start.stripZone(),d.end&&d.end.stripZone()),bL.extend(f,m,d),b0(f),k.push(function(){bL.extend(f,e),b0(f)})}),function(){for(var c=0;c<k.length;c++){k[c]()}}}function cG(g,f){var j=f.source||{},i=cf(f.constraint,j.constraint,aa.options.eventConstraint),h=cf(f.overlap,j.overlap,aa.options.eventOverlap);return bb(g,i,h,f)}function cb(g,k,j){var i,h;return j&&(i=bL.extend({},j,k),h=cJ(cN(i))[0]),h?cG(g,h):ca(g)}function ca(c){return bb(c,aa.options.selectConstraint,aa.options.selectOverlap)}function bb(t,s,r,q){var p,o,n,m,l,k;if(null!=s){for(p=ba(s),o=!1,m=0;m<p.length;m++){if(aa.spanContainsSpan(p[m],t)){o=!0;break}}if(!o){return !1}}for(n=aa.getPeerEvents(t,q),m=0;m<n.length;m++){if(l=n[m],ab(l,t)){if(r===!1){return !1}if("function"==typeof r&&!r(l,q)){return !1}if(q){if(k=cf(l.overlap,(l.source||{}).overlap),k===!1){return !1}if("function"==typeof k&&!k(q,l)){return !1}}}}return !0}function ba(c){return"businessHours"===c?aa.getCurrentBusinessHourEvents():"object"==typeof c?cJ(cN(c)):cP(c)}function ab(f,e){var h=f.start.clone().stripZone(),g=aa.getEventEnd(f).stripZone();return e.start<g&&e.end>h}var aa=this;aa.isFetchNeeded=de,aa.fetchEvents=dd,aa.fetchEventSources=dc,aa.getEventSources=c2,aa.getEventSourceById=c1,aa.getEventSourcesByMatchArray=c0,aa.getEventSourcesByMatch=cZ,aa.addEventSource=c7,aa.removeEventSource=c5,aa.removeEventSources=c4,aa.updateEvent=cV,aa.renderEvent=cS,aa.removeEvents=cR,aa.clientEvents=cP,aa.mutateEvent=cI,aa.normalizeEventDates=cL,aa.normalizeEventTimes=cK;var V,N,M=aa.reportEvents,L={events:[]},b=[L],a=0,cQ=[];bL.each((aa.options.events?[aa.options.events]:[]).concat(aa.options.eventSources||[]),function(e,d){var f=c6(d);f&&b.push(f)}),aa.rezoneArrayEventSources=function(){var e,g,f;for(e=0;e<b.length;e++){if(g=b[e].events,bL.isArray(g)){for(f=0;f<g.length;f++){cO(g[f])}}}},aa.buildEventFromInput=cN,aa.expandEvent=cJ,aa.isEventSpanAllowed=cG,aa.isExternalSpanAllowed=cb,aa.isSelectionSpanAllowed=ca,aa.getEventCache=function(){return cQ}}function b0(b){b._allDay=b.allDay,b._start=b.start.clone(),b._end=b.end?b.end.clone():null}var bt=bL.fullCalendar={version:"2.9.1",internalApiVersion:5},bc=bt.views={};bL.fn.fullCalendar=function(a){var f=Array.prototype.slice.call(arguments,1),e=this;return this.each(function(k,j){var d,c=bL(j),b=c.data("fullCalendar");"string"==typeof a?b&&bL.isFunction(b[a])&&(d=b[a].apply(b,f),k||(e=d),"destroy"===a&&c.removeData("fullCalendar")):b||(b=new cs(c,a),c.data("fullCalendar",b),b.render())}),e};var a3=["header","buttonText","buttonIcons","themeButtonIcons"];bt.intersectRanges=b7,bt.applyAll=cv,bt.debounce=at,bt.isInt=aH,bt.htmlEscape=bG,bt.cssToStr=a5,bt.proxy=aA,bt.capitaliseFirstLetter=aY,bt.getOuterRect=bw,bt.getClientRect=bv,bt.getContentRect=bu,bt.getScrollbarWidths=bs;var aU=null;bt.preventDefault=bi,bt.intersectRects=cj,bt.parseFieldSpecs=ce,bt.compareByFieldSpecs=cc,bt.compareByFieldSpec=b9,bt.flexibleCompare=b8,bt.computeIntervalUnit=b3,bt.divideRangeByDuration=b1,bt.divideDurationByDuration=bZ,bt.multiplyDuration=bY,bt.durationHasTime=bX;var cm=["sun","mon","tue","wed","thu","fri","sat"],ah=["year","month","week","day","hour","minute","second","millisecond"];bt.log=function(){var b=window.console;return b&&b.log?b.log.apply(b,arguments):void 0},bt.warn=function(){var b=window.console;return b&&b.warn?b.warn.apply(b,arguments):bt.log.apply(bt,arguments)};var cu,cd,bE,bd={}.hasOwnProperty,a4=/^\s*\d{4}-\d\d$/,aX=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,aO=bK.fn,aG=bL.extend({},aO);bt.moment=function(){return ad(arguments)},bt.moment.utc=function(){var b=ad(arguments,!0);return b.hasTime()&&b.utc(),b},bt.moment.parseZone=function(){return ad(arguments,!0,!0)},aO.clone=function(){var b=aG.clone.apply(this,arguments);return cq(this,b),this._fullCalendar&&(b._fullCalendar=!0),b},aO.week=aO.weeks=function(d){var c=(this._locale||this._lang)._fullCalendar_weekCalc;return null==d&&"function"==typeof c?c(this):"ISO"===c?aG.isoWeek.apply(this,arguments):aG.week.apply(this,arguments)},aO.time=function(b){if(!this._fullCalendar){return aG.time.apply(this,arguments)}if(null==b){return bK.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}this._ambigTime=!1,bK.isDuration(b)||bK.isMoment(b)||(b=bK.duration(b));var d=0;return bK.isDuration(b)&&(d=24*Math.floor(b.asDays())),this.hours(d+b.hours()).minutes(b.minutes()).seconds(b.seconds()).milliseconds(b.milliseconds())},aO.stripTime=function(){var b;return this._ambigTime||(b=this.toArray(),this.utc(),cd(this,b.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},aO.hasTime=function(){return !this._ambigTime},aO.stripZone=function(){var d,c;return this._ambigZone||(d=this.toArray(),c=this._ambigTime,this.utc(),cd(this,d),this._ambigTime=c||!1,this._ambigZone=!0),this},aO.hasZone=function(){return !this._ambigZone},aO.local=function(){var d=this.toArray(),c=this._ambigZone;return aG.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,c&&bE(this,d),this},aO.utc=function(){return aG.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},bL.each(["zone","utcOffset"],function(d,c){aG[c]&&(aO[c]=function(b){return null!=b&&(this._ambigTime=!1,this._ambigZone=!1),aG[c].apply(this,arguments)})}),aO.format=function(){return this._fullCalendar&&arguments[0]?a9(this,arguments[0]):this._ambigTime?bj(this,"YYYY-MM-DD"):this._ambigZone?bj(this,"YYYY-MM-DD[T]HH:mm:ss"):aG.format.apply(this,arguments)},aO.toISOString=function(){return this._ambigTime?bj(this,"YYYY-MM-DD"):this._ambigZone?bj(this,"YYYY-MM-DD[T]HH:mm:ss"):aG.toISOString.apply(this,arguments)},aO.isWithin=function(e,d){var f=cA([this,e,d]);return f[0]>=f[1]&&f[0]<f[2]},aO.isSame=function(e,d){var f;return this._fullCalendar?d?(f=cA([this,e],!0),aG.isSame.call(f[0],f[1],d)):(e=bt.moment.parseZone(e),aG.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):aG.isSame.apply(this,arguments)},bL.each(["isBefore","isAfter"],function(d,c){aO[c]=function(b,f){var e;return this._fullCalendar?(e=cA([this,b]),aG[c].call(e[0],e[1],f)):aG[c].apply(this,arguments)}}),cu="_d" in bK()&&"updateOffset" in bK,cd=cu?function(b,d){b._d.setTime(Date.UTC.apply(Date,d)),bK.updateOffset(b,!1)}:bQ,bE=cu?function(b,d){b._d.setTime(+new Date(d[0]||0,d[1]||0,d[2]||0,d[3]||0,d[4]||0,d[5]||0,d[6]||0)),bK.updateOffset(b,!1)}:bQ;var az={t:function(b){return bj(b,"a").charAt(0)},T:function(b){return bj(b,"A").charAt(0)}};bt.formatRange=aL;var ar={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ak={};bt.Class=cD,cD.extend=function(){var e,d,f=arguments.length;for(e=0;f>e;e++){d=arguments[e],f-1>e&&aW(this,d)}return ct(this,d||{})},cD.mixin=function(b){aW(this,b)};var ac=bt.EmitterMixin={on:function(a,f){var e=function(d,c){return f.apply(c.context||this,c.args||[])};return f.guid||(f.guid=bL.guid++),e.guid=f.guid,bL(this).on(a,e),this},off:function(a,d){return bL(this).off(a,d),this},trigger:function(a){var d=Array.prototype.slice.call(arguments,1);return bL(this).triggerHandler(a,{args:d}),this},triggerWith:function(a,f,e){return bL(this).triggerHandler(a,{context:f,args:e}),this}},cz=bt.ListenerMixin=function(){var a=0,d={listenerId:null,listenTo:function(f,i,h){if("object"==typeof i){for(var g in i){i.hasOwnProperty(g)&&this.listenTo(f,g,i[g])}}else{"string"==typeof i&&f.on(i+"."+this.getListenerNamespace(),bL.proxy(h,this))}},stopListeningTo:function(e,c){e.off((c||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=a++),"_listener"+this.listenerId}};return d}(),cp={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(b){this.delayUnignoreMouse=at(aA(this,"unignoreMouse"),b||1000)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},bP=cD.extend(cz,{isHidden:!0,options:null,el:null,margin:10,constructor:function(b){this.options=b||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var a=this,d=this.options;this.el=bL('<div class="fc-popover"/>').addClass(d.className||"").css({top:0,left:0}).append(d.content).appendTo(d.parentEl),this.el.on("click",".fc-close",function(){a.hide()}),d.autoHide&&this.listenTo(bL(document),"mousedown",this.documentMousedown)},documentMousedown:function(a){this.el&&!bL(a.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(bL(document),"mousedown")},position:function(){var v,u,t,s,r,q=this.options,p=this.el.offsetParent().offset(),o=this.el.outerWidth(),n=this.el.outerHeight(),m=bL(window),a=bx(this.el);s=q.top||0,r=void 0!==q.left?q.left:void 0!==q.right?q.right-o:0,a.is(window)||a.is(document)?(a=m,v=0,u=0):(t=a.offset(),v=t.top,u=t.left),v+=m.scrollTop(),u+=m.scrollLeft(),q.viewportConstrain!==!1&&(s=Math.min(s,v+a.outerHeight()-n-this.margin),s=Math.max(s,v+this.margin),r=Math.min(r,u+a.outerWidth()-o-this.margin),r=Math.max(r,u+this.margin)),this.el.css({top:s-p.top,left:r-p.left})},trigger:function(b){this.options[b]&&this.options[b].apply(this,Array.prototype.slice.call(arguments,1))}}),bh=bt.CoordCache=cD.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(a){this.els=bL(a.els),this.isHorizontal=a.isHorizontal,this.isVertical=a.isVertical,this.forcedOffsetParentEl=a.offsetParent?bL(a.offsetParent):null},build:function(){var b=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=b.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var a=[],d=[];this.els.each(function(k,j){var i=bL(j),c=i.offset().left,b=i.outerWidth();a.push(c),d.push(c+b)}),this.lefts=a,this.rights=d},buildElVerticals:function(){var a=[],d=[];this.els.each(function(k,j){var i=bL(j),c=i.offset().top,b=i.outerHeight();a.push(c),d.push(c+b)}),this.tops=a,this.bottoms=d},getHorizontalIndex:function(g){this.ensureBuilt();var f,j=this.lefts,i=this.rights,h=j.length;for(f=0;h>f;f++){if(g>=j[f]&&g<i[f]){return f}}},getVerticalIndex:function(g){this.ensureBuilt();var f,j=this.tops,i=this.bottoms,h=j.length;for(f=0;h>f;f++){if(g>=j[f]&&g<i[f]){return f}}},getLeftOffset:function(b){return this.ensureBuilt(),this.lefts[b]},getLeftPosition:function(b){return this.ensureBuilt(),this.lefts[b]-this.origin.left},getRightOffset:function(b){return this.ensureBuilt(),this.rights[b]},getRightPosition:function(b){return this.ensureBuilt(),this.rights[b]-this.origin.left},getWidth:function(b){return this.ensureBuilt(),this.rights[b]-this.lefts[b]},getTopOffset:function(b){return this.ensureBuilt(),this.tops[b]},getTopPosition:function(b){return this.ensureBuilt(),this.tops[b]-this.origin.top},getBottomOffset:function(b){return this.ensureBuilt(),this.bottoms[b]},getBottomPosition:function(b){return this.ensureBuilt(),this.bottoms[b]-this.origin.top},getHeight:function(b){return this.ensureBuilt(),this.bottoms[b]-this.tops[b]},queryBoundingRect:function(){var b=bx(this.els.eq(0));return b.is(document)?void 0:bv(b)},isPointInBounds:function(d,c){return this.isLeftInBounds(d)&&this.isTopInBounds(c)},isLeftInBounds:function(b){return !this.boundingRect||b>=this.boundingRect.left&&b<this.boundingRect.right},isTopInBounds:function(b){return !this.boundingRect||b>=this.boundingRect.top&&b<this.boundingRect.bottom}}),a8=bt.DragListener=cD.extend(cz,cp,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(b){this.options=b||{},this.handleTouchScrollProxy=aA(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(a,f){var e=bl(a);if("mousedown"===a.type){if(this.isIgnoringMouse){return}if(!bo(a)){return}a.preventDefault()}this.isInteracting||(f=f||{},this.delay=cf(f.delay,this.options.delay,0),this.minDistance=cf(f.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=e,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=bn(a),this.originY=bm(a),this.scrollEl=bx(bL(a.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(a),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a))},handleInteractionStart:function(b){this.trigger("interactionStart",b)},endInteraction:function(d,c){this.isInteracting&&(this.endDrag(d),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(d,c),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(d,c){this.trigger("interactionEnd",d,c||!1)},bindHandlers:function(){var a=this,d=1;this.isTouch?(this.listenTo(bL(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(b){d?d--:a.endInteraction(b,!0)}}),!cl(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(bL(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(bL(document),{selectstart:bi,contextmenu:bi})},unbindHandlers:function(){this.stopListeningTo(bL(document)),ck(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(d,c){this.startInteraction(d,c),this.isDragging||(this.isDragging=!0,this.handleDragStart(d))},handleDragStart:function(b){this.trigger("dragStart",b),this.initHrefHack()},handleMove:function(g){var f,j=bn(g)-this.originX,i=bm(g)-this.originY,h=this.minDistance;this.isDistanceSurpassed||(f=j*j+i*i,f>=h*h&&this.handleDistanceSurpassed(g)),this.isDragging&&this.handleDrag(j,i,g)},handleDrag:function(e,d,f){this.trigger("drag",e,d,f),this.updateAutoScroll(f)},endDrag:function(b){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(b))},handleDragEnd:function(b){this.trigger("dragEnd",b),this.destroyHrefHack()},startDelay:function(d){var c=this;this.delay?this.delayTimeoutId=setTimeout(function(){c.handleDelayEnd(d)},this.delay):this.handleDelayEnd(d)},handleDelayEnd:function(b){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(b)},handleDistanceSurpassed:function(b){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(b)},handleTouchMove:function(b){this.isDragging&&b.preventDefault(),this.handleMove(b)},handleMouseMove:function(b){this.handleMove(b)},handleTouchScroll:function(b){this.isDragging||this.endInteraction(b,!0)},initHrefHack:function(){var b=this.subjectEl;(this.subjectHref=b?b.attr("href"):null)&&b.removeAttr("href")},destroyHrefHack:function(){var d=this.subjectEl,c=this.subjectHref;setTimeout(function(){c&&d.attr("href",c)},0)},trigger:function(b){this.options[b]&&this.options[b].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+b]&&this["_"+b].apply(this,Array.prototype.slice.call(arguments,1))}});a8.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var b=this.scrollEl;this.isAutoScroll=this.options.scroll&&b&&!b.is(window)&&!b.is(document),this.isAutoScroll&&this.listenTo(b,"scroll",at(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=bw(this.scrollEl))},updateAutoScroll:function(r){var q,p,o,n,m=this.scrollSensitivity,l=this.scrollBounds,k=0,j=0;l&&(q=(m-(bm(r)-l.top))/m,p=(m-(l.bottom-bm(r)))/m,o=(m-(bn(r)-l.left))/m,n=(m-(l.right-bn(r)))/m,q>=0&&1>=q?k=q*this.scrollSpeed*-1:p>=0&&1>=p&&(k=p*this.scrollSpeed),o>=0&&1>=o?j=o*this.scrollSpeed*-1:n>=0&&1>=n&&(j=n*this.scrollSpeed)),this.setScrollVel(k,j)},setScrollVel:function(d,c){this.scrollTopVel=d,this.scrollLeftVel=c,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(aA(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var b=this.scrollEl;this.scrollTopVel<0?b.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&b.scrollTop()+b[0].clientHeight>=b[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?b.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&b.scrollLeft()+b[0].clientWidth>=b[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var d=this.scrollEl,c=this.scrollIntervalMs/1000;this.scrollTopVel&&d.scrollTop(d.scrollTop()+this.scrollTopVel*c),this.scrollLeftVel&&d.scrollLeft(d.scrollLeft()+this.scrollLeftVel*c),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var a1=a8.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(d,c){a8.call(this,c),this.component=d},handleInteractionStart:function(g){var f,j,i,h=this.subjectEl;this.computeCoords(),g?(j={left:bn(g),top:bm(g)},i=j,h&&(f=bw(h),i=ci(i,f)),this.origHit=this.queryHit(i.left,i.top),h&&this.options.subjectCenter&&(this.origHit&&(f=cj(this.origHit,f)||f),i=ch(f)),this.coordAdjust=cg(i,j)):(this.origHit=null,this.coordAdjust=null),a8.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(d){var c;a8.prototype.handleDragStart.apply(this,arguments),c=this.queryHit(bn(d),bm(d)),c&&this.handleHitOver(c)},handleDrag:function(f,e,h){var g;a8.prototype.handleDrag.apply(this,arguments),g=this.queryHit(bn(h),bm(h)),aN(g,this.hit)||(this.hit&&this.handleHitOut(),g&&this.handleHitOver(g))},handleDragEnd:function(){this.handleHitDone(),a8.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(d){var c=aN(d,this.origHit);this.hit=d,this.trigger("hitOver",this.hit,c,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){a8.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){a8.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(d,c){return this.coordAdjust&&(d+=this.coordAdjust.left,c+=this.coordAdjust.top),this.component.queryHit(d,c)}}),aS=cD.extend(cz,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(a,d){this.options=d=d||{},this.sourceEl=a,this.parentEl=d.parentEl?bL(d.parentEl):a.parent()},start:function(a){this.isFollowing||(this.isFollowing=!0,this.y0=bm(a),this.x0=bn(a),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),bl(a)?this.listenTo(bL(document),"touchmove",this.handleMove):this.listenTo(bL(document),"mousemove",this.handleMove))},stop:function(a,j){function i(){h.isAnimating=!1,h.removeElement(),h.top0=h.left0=null,j&&j()}var h=this,g=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(bL(document)),a&&g&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:g,complete:i})):i())},getEl:function(){var b=this.el;return b||(this.sourceEl.width(),b=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),b.addClass("fc-unselectable"),b.appendTo(this.parentEl)),b},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var d,c;this.getEl(),null===this.top0&&(this.sourceEl.width(),d=this.sourceEl.offset(),c=this.el.offsetParent().offset(),this.top0=d.top-c.top,this.left0=d.left-c.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(b){this.topDelta=bm(b)-this.y0,this.leftDelta=bn(b)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),aK=bt.Grid=cD.extend(cz,cp,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(b){this.view=b,this.isRTL=b.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return !0},computeDisplayEventEnd:function(){return !0},setRange:function(b){this.start=b.start.clone(),this.end=b.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,d,f=this.view;this.eventTimeFormat=f.opt("eventTimeFormat")||f.opt("timeFormat")||this.computeEventTimeFormat(),e=f.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),d=f.opt("displayEventEnd"),null==d&&(d=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=d},spanToSegs:function(b){},diffDates:function(d,c){return this.largeUnit?b4(d,c,this.largeUnit):b6(d,c)},prepareHits:function(){},releaseHits:function(){},queryHit:function(d,c){},getHitSpan:function(b){},getHitEl:function(b){},setElement:function(b){this.el=b,bk(b),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(a,f){var e=this;this.el.on(a,function(c){return bL(c.target).is(".fc-event-container *, .fc-more")?void 0:f.call(e,c)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(bL(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(bL(document))},dayMousedown:function(b){this.isIgnoringMouse||this.dayDragListener.startInteraction(b,{})},dayTouchStart:function(d){var c=this.view;(c.isSelected||c.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(d,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var h,g,l=this,k=this.view,j=k.opt("selectable"),i=new a1(this,{scroll:k.opt("dragScroll"),interactionStart:function(){h=i.origHit,g=null},dragStart:function(){k.unselect()},hitOver:function(c,b,a){a&&(b||(h=null),j&&(g=l.computeSelection(l.getHitSpan(a),l.getHitSpan(c)),g?l.renderSelection(g):g===!1&&bD()))},hitOut:function(){h=null,g=null,l.unrenderSelection()},hitDone:function(){bC()},interactionEnd:function(b,a){a||(h&&!l.isIgnoringMouse&&k.triggerDayClick(l.getHitSpan(h),l.getHitEl(h),b),g&&k.reportSelection(g,b))}});return i},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(e,d){var f=this.fabricateHelperEvent(e,d);return this.renderHelper(f,d)},fabricateHelperEvent:function(e,d){var f=d?bT(d.event):{};return f.start=e.start.clone(),f.end=e.end?e.end.clone():null,f.allDay=null,this.view.calendar.normalizeEventDates(f),f.className=(f.className||[]).concat("fc-helper"),d||(f.editable=!1),f},renderHelper:function(d,c){},unrenderHelper:function(){},renderSelection:function(b){this.renderHighlight(b)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,d){var f=this.computeSelectionSpan(e,d);return f&&!this.view.calendar.isSelectionSpanAllowed(f)?!1:f},computeSelectionSpan:function(e,d){var f=[e.start,e.end,d.start,d.end];return f.sort(aP),{start:f[0].clone(),end:f[3].clone()}},renderHighlight:function(b){this.renderFill("highlight",this.spanToSegs(b))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(b){},unrenderNowIndicator:function(){},renderFill:function(d,c){},unrenderFill:function(d){var c=this.elsByFill[d];c&&(c.remove(),delete this.elsByFill[d])},renderFillSegEls:function(a,n){var m,l=this,k=this[a+"SegEl"],j="",i=[];if(n.length){for(m=0;m<n.length;m++){j+=this.fillSegHtml(a,n[m])}bL(j).each(function(c,h){var f=n[c],e=bL(h);k&&(e=k.call(l,f,e)),e&&(e=bL(e),e.is(l.fillSegTag)&&(f.el=e,i.push(f)))})}return i},fillSegTag:"div",fillSegHtml:function(h,g){var l=this[h+"SegClasses"],k=this[h+"SegCss"],j=l?l.call(this,g):[],i=a5(k?k.call(this,g):{});return"<"+this.fillSegTag+(j.length?' class="'+j.join(" ")+'"':"")+(i?' style="'+i+'"':"")+" />"},getDayClasses:function(f){var e=this.view,h=e.calendar.getNow(),g=["fc-"+cm[f.day()]];return 1==e.intervalDuration.as("months")&&f.month()!=e.intervalStart.month()&&g.push("fc-other-month"),f.isSame(h,"day")?g.push("fc-today",e.highlightStateClass):h>f?g.push("fc-past"):g.push("fc-future"),g}});aK.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(f){var e,h=[],g=[];for(e=0;e<f.length;e++){(ay(f[e])?h:g).push(f[e])}this.segs=[].concat(this.renderBgEvents(h),this.renderFgEvents(g))},renderBgEvents:function(d){var c=this.eventsToSegs(d);return this.renderBgSegs(c)||c},renderFgEvents:function(d){var c=this.eventsToSegs(d);return this.renderFgSegs(c)||c},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(b){},unrenderFgSegs:function(){},renderFgSegEls:function(a,l){var k,j=this.view,i="",h=[];if(a.length){for(k=0;k<a.length;k++){i+=this.fgSegHtml(a[k],l)}bL(i).each(function(m,g){var e=a[m],b=j.resolveEventEl(e.event,bL(g));b&&(b.data("fc-seg",e),e.el=b,h.push(e))})}return h},fgSegHtml:function(d,c){},renderBgSegs:function(b){return this.renderFill("bgEvent",b)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(d,c){return this.view.resolveEventEl(d.event,c)},bgEventSegClasses:function(e){var d=e.event,f=d.source||{};return["fc-bgevent"].concat(d.className,f.className||[])},bgEventSegCss:function(b){return{"background-color":this.getSegSkinCss(b)["background-color"]}},businessHoursSegClasses:function(b){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(a){var d=this.view.calendar.getCurrentBusinessHourEvents(a);return !d.length&&this.view.calendar.options.businessHours&&(d=[bL.extend({},cE,{start:this.view.end,end:this.view.end,dow:null})]),this.eventsToSegs(d)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(b){this.bindSegHandlerToEl(b,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(b,"touchend",this.handleSegTouchEnd),this.bindSegHandlerToEl(b,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(b,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(b,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(b,"click",this.handleSegClick)},bindSegHandlerToEl:function(a,h,g){var f=this;a.on(h,".fc-event-container > *",function(d){var e=bL(this).data("fc-seg");return !e||f.isDraggingSeg||f.isResizingSeg?void 0:g.call(f,e,d)})},handleSegClick:function(d,c){return this.view.trigger("eventClick",d.el[0],d.event,c)},handleSegMouseover:function(d,c){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=d,d.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",d.el[0],d.event,c))},handleSegMouseout:function(d,c){c=c||{},this.mousedOverSeg&&(d=d||this.mousedOverSeg,this.mousedOverSeg=null,d.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",d.el[0],d.event,c))},handleSegMousedown:function(e,d){var f=this.startSegResize(e,d,{distance:5});!f&&this.view.isEventDraggable(e.event)&&this.buildSegDragListener(e).startInteraction(d,{distance:5})},handleSegTouchStart:function(r,q){var p,o=this.view,n=r.event,m=o.isEventSelected(n),l=o.isEventDraggable(n),k=o.isEventResizable(n),j=!1;m&&k&&(j=this.startSegResize(r,q)),j||!l&&!k||(p=l?this.buildSegDragListener(r):this.buildSegSelectListener(r),p.startInteraction(q,{delay:m?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(d,c){this.tempIgnoreMouse()},startSegResize:function(a,f,e){return bL(f.target).is(".fc-resizer")?(this.buildSegResizeListener(a,bL(f.target).is(".fc-start-resizer")).startInteraction(f,e),!0):!1},buildSegDragListener:function(t){var s,r,q,p=this,o=this.view,n=o.calendar,m=t.el,h=t.event;if(this.segDragListener){return this.segDragListener}var g=this.segDragListener=new a1(o,{scroll:o.opt("dragScroll"),subjectEl:m,subjectCenter:!0,interactionStart:function(a){t.component=p,s=!1,r=new aS(t.el,{additionalClass:"fc-dragging",parentEl:o.el,opacity:g.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),r.hide(),r.start(a)},dragStart:function(a){g.isTouch&&!o.isEventSelected(h)&&o.selectEvent(h),s=!0,p.handleSegMouseout(t,a),p.segDragStart(t,a),o.hideEvent(h)},hitOver:function(c,e,d){var a;t.hit&&(d=t.hit),q=p.computeEventDrop(d.component.getHitSpan(d),c.component.getHitSpan(c),h),q&&!n.isEventSpanAllowed(p.eventToSpan(q),h)&&(bD(),q=null),q&&(a=o.renderDrag(q,t))?(a.addClass("fc-dragging"),g.isTouch||p.applyDragOpacity(a),r.hide()):r.show(),e&&(q=null)},hitOut:function(){o.unrenderDrag(),r.show(),q=null},hitDone:function(){bC()},interactionEnd:function(a){delete t.component,r.stop(!q,function(){s&&(o.unrenderDrag(),o.showEvent(h),p.segDragStop(t,a)),q&&o.reportEventDrop(h,q,this.largeUnit,m,a)}),p.segDragListener=null}});return g},buildSegSelectListener:function(g){var f=this,j=this.view,i=g.event;if(this.segDragListener){return this.segDragListener}var h=this.segDragListener=new a8({dragStart:function(b){h.isTouch&&!j.isEventSelected(i)&&j.selectEvent(i)},interactionEnd:function(b){f.segDragListener=null}});return h},segDragStart:function(d,c){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",d.el[0],d.event,c,{})},segDragStop:function(d,c){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",d.el[0],d.event,c,{})},computeEventDrop:function(j,i,p){var o,n,m=this.view.calendar,l=j.start,k=i.start;return l.hasTime()===k.hasTime()?(o=this.diffDates(k,l),p.allDay&&bX(o)?(n={start:p.start.clone(),end:m.getEventEnd(p),allDay:!1},m.normalizeEventTimes(n)):n={start:p.start.clone(),end:p.end?p.end.clone():null,allDay:p.allDay},n.start.add(o),n.end&&n.end.add(o)):n={start:k.clone(),end:null,allDay:!k.hasTime()},n},applyDragOpacity:function(d){var c=this.view.opt("dragOpacity");null!=c&&d.each(function(b,e){e.style.opacity=c})},externalDragStart:function(a,j){var i,h,g=this.view;g.opt("droppable")&&(i=bL((j?j.item:null)||a.target),h=g.opt("dropAccept"),(bL.isFunction(h)?h.call(i[0],i):i.is(h))&&(this.isDraggingExternal||this.listenToExternalDrag(i,a,j)))},listenToExternalDrag:function(h,g,p){var o,n=this,m=this.view.calendar,l=co(h),k=n.externalDragListener=new a1(this,{interactionStart:function(){n.isDraggingExternal=!0},hitOver:function(b){o=n.computeExternalDrop(b.component.getHitSpan(b),l),o&&!m.isExternalSpanAllowed(n.eventToSpan(o),o,l.eventProps)&&(bD(),o=null),o&&n.renderDrag(o)},hitOut:function(){o=null},hitDone:function(){bC(),n.unrenderDrag()},interactionEnd:function(a){o&&n.view.reportExternalDrop(l,o,h,a,p),n.isDraggingExternal=!1,n.externalDragListener=null}});k.startDrag(g)},computeExternalDrop:function(f,e){var h=this.view.calendar,g={start:h.applyTimezone(f.start),end:null};return e.startTime&&!g.start.hasTime()&&g.start.time(e.startTime),e.duration&&(g.end=g.start.clone().add(e.duration)),g},renderDrag:function(d,c){},unrenderDrag:function(){},buildSegResizeListener:function(v,u){var t,s,r=this,q=this.view,p=q.calendar,o=v.el,n=v.event,h=p.getEventEnd(n),g=this.segResizeListener=new a1(this,{scroll:q.opt("dragScroll"),subjectEl:o,interactionStart:function(){t=!1},dragStart:function(a){t=!0,r.handleSegMouseout(v,a),r.segResizeStart(v,a)},hitOver:function(f,d,b){var a=r.getHitSpan(b),e=r.getHitSpan(f);s=u?r.computeEventStartResize(a,e,n):r.computeEventEndResize(a,e,n),s&&(p.isEventSpanAllowed(r.eventToSpan(s),n)?s.start.isSame(n.start)&&s.end.isSame(h)&&(s=null):(bD(),s=null)),s&&(q.hideEvent(n),r.renderEventResize(s,v))},hitOut:function(){s=null},hitDone:function(){r.unrenderEventResize(),q.showEvent(n),bC()},interactionEnd:function(a){t&&r.segResizeStop(v,a),s&&q.reportEventResize(n,s,this.largeUnit,o,a),r.segResizeListener=null}});return g},segResizeStart:function(d,c){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",d.el[0],d.event,c,{})},segResizeStop:function(d,c){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",d.el[0],d.event,c,{})},computeEventStartResize:function(e,d,f){return this.computeEventResize("start",e,d,f)},computeEventEndResize:function(e,d,f){return this.computeEventResize("end",e,d,f)},computeEventResize:function(j,i,p,o){var n,m,l=this.view.calendar,k=this.diffDates(p[j],i[j]);return n={start:o.start.clone(),end:l.getEventEnd(o),allDay:o.allDay},n.allDay&&bX(k)&&(n.allDay=!1,l.normalizeEventTimes(n)),n[j].add(k),n.start.isBefore(n.end)||(m=this.minResizeDuration||(o.allDay?l.defaultAllDayEventDuration:l.defaultTimedEventDuration),"start"==j?n.start=n.end.clone().subtract(m):n.end=n.start.clone().add(m)),n},renderEventResize:function(d,c){},unrenderEventResize:function(){},getEventTimeText:function(e,d,f){return null==d&&(d=this.eventTimeFormat),null==f&&(f=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?f&&e.end?this.view.formatRange(e,d):e.start.format(d):""},getSegClasses:function(h,g,l){var k=this.view,j=h.event,i=["fc-event",h.isStart?"fc-start":"fc-not-start",h.isEnd?"fc-end":"fc-not-end"].concat(j.className,j.source?j.source.className:[]);return g&&i.push("fc-draggable"),l&&i.push("fc-resizable"),k.isEventSelected(j)&&i.push("fc-selected"),i},getSegSkinCss:function(i){var h=i.event,n=this.view,m=h.source||{},l=h.color,k=m.color,j=n.opt("eventColor");return{"background-color":h.backgroundColor||l||m.backgroundColor||k||n.opt("eventBackgroundColor")||j,"border-color":h.borderColor||l||m.borderColor||k||n.opt("eventBorderColor")||j,color:h.textColor||m.textColor||n.opt("eventTextColor")}},eventToSegs:function(b){return this.eventsToSegs([b])},eventToSpan:function(b){return this.eventToSpans(b)[0]},eventToSpans:function(d){var c=this.eventToRange(d);return this.eventRangeToSpans(c,d)},eventsToSegs:function(a,j){var i=this,h=cF(a),g=[];return bL.each(h,function(d,c){var k,f=[];for(k=0;k<c.length;k++){f.push(i.eventToRange(c[k]))}if(aq(c[0])){for(f=i.invertRanges(f),k=0;k<f.length;k++){g.push.apply(g,i.eventRangeToSegs(f[k],c[0],j))}}else{for(k=0;k<f.length;k++){g.push.apply(g,i.eventRangeToSegs(f[k],c[k],j))}}}),g},eventToRange:function(b){return{start:b.start.clone().stripZone(),end:(b.end?b.end.clone():this.view.calendar.getDefaultEventEnd(null!=b.allDay?b.allDay:!b.start.hasTime(),b.start)).stripZone()}},eventRangeToSegs:function(h,g,l){var k,j=this.eventRangeToSpans(h,g),i=[];for(k=0;k<j.length;k++){i.push.apply(i,this.eventSpanToSegs(j[k],g,l))}return i},eventRangeToSpans:function(a,d){return[bL.extend({},a)]},eventSpanToSegs:function(h,g,l){var k,j,i=l?l(h):this.spanToSegs(h);for(k=0;k<i.length;k++){j=i[k],j.event=g,j.eventStartMS=+h.start,j.eventDurationMS=h.end-h.start}return i},invertRanges:function(j){var i,p,o=this.view,n=o.start.clone(),m=o.end.clone(),l=[],k=n;for(j.sort(cy),i=0;i<j.length;i++){p=j[i],p.start>k&&l.push({start:k,end:p.start}),k=p.end}return m>k&&l.push({start:k,end:m}),l},sortEventSegs:function(b){b.sort(aA(this,"compareEventSegs"))},compareEventSegs:function(d,c){return d.eventStartMS-c.eventStartMS||c.eventDurationMS-d.eventDurationMS||c.event.allDay-d.event.allDay||cc(d.event,c.event,this.view.eventOrderSpecs)}}),bt.isBgEvent=ay,bt.dataAttrPrefix="";var aC=bt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var j,i,p,o=this.view,n=this.start.clone(),m=-1,l=[],k=[];n.isBefore(this.end);){o.isHiddenDay(n)?l.push(m+0.5):(m++,l.push(m),k.push(n.clone())),n.add(1,"days")}if(this.breakOnWeeks){for(i=k[0].day(),j=1;j<k.length&&k[j].day()!=i;j++){}p=Math.ceil(k.length/j)}else{p=1,j=k.length}this.dayDates=k,this.dayIndices=l,this.daysPerRow=j,this.rowCnt=p,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(d,c){return this.dayDates[this.getCellDayIndex(d,c)].clone()},getCellRange:function(f,e){var h=this.getCellDate(f,e),g=h.clone().add(1,"days");return{start:h,end:g}},getCellDayIndex:function(d,c){return d*this.daysPerRow+this.getColDayIndex(c)},getColDayIndex:function(b){return this.isRTL?this.colCnt-1-b:b},getDateDayIndex:function(e){var d=this.dayIndices,f=e.diff(this.start,"days");return 0>f?d[0]-1:f>=d.length?d[d.length-1]+1:d[f]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(v){var u,t,s,r,q,p=this.daysPerRow,o=this.view.computeDayRange(v),n=this.getDateDayIndex(o.start),m=this.getDateDayIndex(o.end.clone().subtract(1,"days")),l=[];for(u=0;u<this.rowCnt;u++){t=u*p,s=t+p-1,r=Math.max(n,t),q=Math.min(m,s),r=Math.ceil(r),q=Math.floor(q),q>=r&&l.push({row:u,firstRowDayIndex:r-t,lastRowDayIndex:q-t,isStart:r===n,isEnd:q===m})}return l},sliceRangeByDay:function(x){var w,v,u,t,s,r,q=this.daysPerRow,p=this.view.computeDayRange(x),o=this.getDateDayIndex(p.start),n=this.getDateDayIndex(p.end.clone().subtract(1,"days")),m=[];for(w=0;w<this.rowCnt;w++){for(v=w*q,u=v+q-1,t=v;u>=t;t++){s=Math.max(o,t),r=Math.min(n,t),s=Math.ceil(s),r=Math.floor(r),r>=s&&m.push({row:w,firstRowDayIndex:s-v,lastRowDayIndex:r-v,isStart:s===o,isEnd:r===n})}}return m},renderHeadHtml:function(){var b=this.view;return'<div class="fc-row '+b.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,d,f=[];for(e=0;e<this.colCnt;e++){d=this.getCellDate(0,e),f.push(this.renderHeadDateCellHtml(d))}return f.join("")},renderHeadDateCellHtml:function(f,e,h){var g=this.view;return'<th class="fc-day-header '+g.widgetHeaderClass+" fc-"+cm[f.day()]+'"'+(1==this.rowCnt?' data-date="'+f.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(h?" "+h:"")+">"+bG(f.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(b){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(b))+this.renderBgCellsHtml(b)+(this.isRTL?this.renderBgIntroHtml(b):"")+"</tr>"},renderBgIntroHtml:function(b){return this.renderIntroHtml()},renderBgCellsHtml:function(f){var e,h,g=[];for(e=0;e<this.colCnt;e++){h=this.getCellDate(f,e),g.push(this.renderBgCellHtml(h))}return g.join("")},renderBgCellHtml:function(f,e){var h=this.view,g=this.getDayClasses(f);return g.unshift("fc-day",h.widgetContentClass),'<td class="'+g.join(" ")+'" data-date="'+f.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(d){var c=this.renderIntroHtml();c&&(this.isRTL?d.append(c):d.prepend(c))}},av=bt.DayGrid=aK.extend(aC,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(i){var h,n,m=this.view,l=this.rowCnt,k=this.colCnt,j="";for(h=0;l>h;h++){j+=this.renderDayRowHtml(h,i)}for(this.el.html(j),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new bh({els:this.rowEls,isVertical:!0}),this.colCoordCache=new bh({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),h=0;l>h;h++){for(n=0;k>n;n++){m.trigger("dayRender",null,this.getCellDate(h,n),this.getCellEl(h,n))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var b=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",b,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(f,e){var h=this.view,g=["fc-row","fc-week",h.widgetContentClass];return e&&g.push("fc-rigid"),'<div class="'+g.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(f)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(f)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(b){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(b))+this.renderNumberCellsHtml(b)+(this.isRTL?this.renderNumberIntroHtml(b):"")+"</tr>"},renderNumberIntroHtml:function(b){return this.renderIntroHtml()},renderNumberCellsHtml:function(f){var e,h,g=[];for(e=0;e<this.colCnt;e++){h=this.getCellDate(f,e),g.push(this.renderNumberCellHtml(h))}return g.join("")},renderNumberCellHtml:function(d){var c;return this.view.dayNumbersVisible?(c=this.getDayClasses(d),c.unshift("fc-day-number"),'<td class="'+c.join(" ")+'" data-date="'+d.format()+'">'+d.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(f){var e,h,g=this.sliceRangeByRow(f);for(e=0;e<g.length;e++){h=g[e],this.isRTL?(h.leftCol=this.daysPerRow-1-h.lastRowDayIndex,h.rightCol=this.daysPerRow-1-h.firstRowDayIndex):(h.leftCol=h.firstRowDayIndex,h.rightCol=h.lastRowDayIndex)}return g},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(f,e){if(this.colCoordCache.isLeftInBounds(f)&&this.rowCoordCache.isTopInBounds(e)){var h=this.colCoordCache.getHorizontalIndex(f),g=this.rowCoordCache.getVerticalIndex(e);if(null!=g&&null!=h){return this.getCellHit(g,h)}}},getHitSpan:function(b){return this.getCellRange(b.row,b.col)},getHitEl:function(b){return this.getCellEl(b.row,b.col)},getCellHit:function(d,c){return{row:d,col:c,component:this,left:this.colCoordCache.getLeftOffset(c),right:this.colCoordCache.getRightOffset(c),top:this.rowCoordCache.getTopOffset(d),bottom:this.rowCoordCache.getBottomOffset(d)}},getCellEl:function(d,c){return this.cellEls.eq(d*this.colCnt+c)},renderDrag:function(d,c){return this.renderHighlight(this.eventToSpan(d)),c&&c.component!==this?this.renderEventLocationHelper(d,c):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(d,c){return this.renderHighlight(this.eventToSpan(d)),this.renderEventLocationHelper(d,c)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(a,j){var i,h=[],g=this.eventToSegs(a);return g=this.renderFgSegEls(g),i=this.renderSegRows(g),this.rowEls.each(function(c,l){var k,e=bL(l),d=bL('<div class="fc-helper-skeleton"><table/></div>');k=j&&j.row===c?j.el.position().top:e.find(".fc-content-skeleton tbody").position().top,d.css("top",k).find("table").append(i[c].tbodyEl),e.append(d),h.push(d[0])}),this.helperEls=bL(h)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(a,n,m){var l,k,j,i=[];for(n=this.renderFillSegEls(a,n),l=0;l<n.length;l++){k=n[l],j=this.renderFillRow(a,k,m),this.rowEls.eq(k.row).append(j),i.push(j[0])}return this.elsByFill[a]=bL(i),n},renderFillRow:function(a,p,o){var n,m,l=this.colCnt,k=p.leftCol,j=p.rightCol+1;return o=o||a.toLowerCase(),n=bL('<div class="fc-'+o+'-skeleton"><table><tr/></table></div>'),m=n.find("tr"),k>0&&m.append('<td colspan="'+k+'"/>'),m.append(p.el.attr("colspan",j-k)),l>j&&m.append('<td colspan="'+(l-j)+'"/>'),this.bookendCells(m),n}});av.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),aK.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aK.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(a){var d=bL.grep(a,function(b){return b.event.allDay});return aK.prototype.renderBgSegs.call(this,d)},renderFgSegs:function(a){var d;return a=this.renderFgSegEls(a),d=this.rowStructs=this.renderSegRows(a),this.rowEls.each(function(c,e){bL(e).find(".fc-content-skeleton > table").append(d[c].tbodyEl)}),a},unrenderFgSegs:function(){for(var d,c=this.rowStructs||[];d=c.pop();){d.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(f){var e,h,g=[];for(e=this.groupSegRows(f),h=0;h<e.length;h++){g.push(this.renderSegRow(h,e[h]))}return g},fgSegHtml:function(x,w){var v,u,t=this.view,s=x.event,r=t.isEventDraggable(s),q=!w&&s.allDay&&x.isStart&&t.isEventResizableFromStart(s),p=!w&&s.allDay&&x.isEnd&&t.isEventResizableFromEnd(s),o=this.getSegClasses(x,r,q||p),n=a5(this.getSegSkinCss(x)),m="";return o.unshift("fc-day-grid-event","fc-h-event"),x.isStart&&(v=this.getEventTimeText(s),v&&(m='<span class="fc-time">'+bG(v)+"</span>")),u='<span class="fc-title">'+(bG(s.title||"")||"&nbsp;")+"</span>",'<a class="'+o.join(" ")+'"'+(s.url?' href="'+bG(s.url)+'"':"")+(n?' style="'+n+'"':"")+'><div class="fc-content">'+(this.isRTL?u+" "+m:m+" "+u)+"</div>"+(q?'<div class="fc-resizer fc-start-resizer" />':"")+(p?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(H,G){function F(c){for(;c>C;){y=(a[E-1]||[])[C],y?y.attr("rowspan",parseInt(y.attr("rowspan")||1,10)+1):(y=bL("<td/>"),B.append(y)),s[E][C]=y,a[E][C]=y,C++}}var E,D,C,B,A,z,y,x=this.colCnt,w=this.buildSegLevels(G),v=Math.max(1,w.length),u=bL("<tbody/>"),t=[],s=[],a=[];for(E=0;v>E;E++){if(D=w[E],C=0,B=bL("<tr/>"),t.push([]),s.push([]),a.push([]),D){for(A=0;A<D.length;A++){for(z=D[A],F(z.leftCol),y=bL('<td class="fc-event-container"/>').append(z.el),z.leftCol!=z.rightCol?y.attr("colspan",z.rightCol-z.leftCol+1):a[E][C]=y;C<=z.rightCol;){s[E][C]=y,t[E][C]=z,C++}B.append(y)}}F(x),this.bookendCells(B),u.append(B)}return{row:H,tbodyEl:u,cellMatrix:s,segMatrix:t,segLevels:w,segs:G}},buildSegLevels:function(g){var f,j,i,h=[];for(this.sortEventSegs(g),f=0;f<g.length;f++){for(j=g[f],i=0;i<h.length&&bO(j,h[i]);i++){}j.level=i,(h[i]||(h[i]=[])).push(j)}for(i=0;i<h.length;i++){h[i].sort(bg)}return h},groupSegRows:function(e){var d,f=[];for(d=0;d<this.rowCnt;d++){f.push([])}for(d=0;d<e.length;d++){f[e[d].row].push(e[d])}return f}}),av.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(f){var e,h,g=this.rowStructs||[];for(e=0;e<g.length;e++){this.unlimitRow(e),h=f?"number"==typeof f?f:this.computeRowLevelLimit(e):!1,h!==!1&&this.limitRow(e,h)}},computeRowLevelLimit:function(a){function p(d,e){m=Math.max(m,bL(e).outerHeight())}var o,n,m,l=this.rowEls.eq(a),k=l.height(),j=this.rowStructs[a].tbodyEl.children();for(o=0;o<j.length;o++){if(n=j.eq(o).removeClass("fc-limited"),m=0,n.find("> td > :first-child").each(p),n.position().top+m>k){return o}}return !1},limitRow:function(R,Q){function P(b){for(;b>a;){J=z.getCellSegs(R,a,Q),J.length&&(G=N[Q-1][a],A=z.renderMoreLink(R,a,J),B=bL("<div/>").append(A),G.append(B),x.push(B[0])),a++}}var O,N,M,L,K,J,I,H,G,F,E,D,C,B,A,z=this,y=this.rowStructs[R],x=[],a=0;if(Q&&Q<y.segLevels.length){for(O=y.segLevels[Q-1],N=y.cellMatrix,M=y.tbodyEl.children().slice(Q).addClass("fc-limited").get(),L=0;L<O.length;L++){for(K=O[L],P(K.leftCol),H=[],I=0;a<=K.rightCol;){J=this.getCellSegs(R,a,Q),H.push(J),I+=J.length,a++}if(I){for(G=N[Q-1][K.leftCol],F=G.attr("rowspan")||1,E=[],D=0;D<H.length;D++){C=bL('<td class="fc-more-cell"/>').attr("rowspan",F),J=H[D],A=this.renderMoreLink(R,K.leftCol+D,[K].concat(J)),B=bL("<div/>").append(A),C.append(B),E.push(C[0]),x.push(C[0])}G.addClass("fc-limited").after(bL(E)),M.push(G[0])}}P(this.colCnt),y.moreEls=bL(x),y.limitedEls=bL(M)}},unlimitRow:function(d){var c=this.rowStructs[d];c.moreEls&&(c.moreEls.remove(),c.moreEls=null),c.limitedEls&&(c.limitedEls.removeClass("fc-limited"),c.limitedEls=null)},renderMoreLink:function(a,j,i){var h=this,g=this.view;return bL('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(p){var o=g.opt("eventLimitClick"),f=h.getCellDate(a,j),e=bL(this),d=h.getCellEl(a,j),c=h.getCellSegs(a,j),b=h.resliceDaySegs(c,f),q=h.resliceDaySegs(i,f);"function"==typeof o&&(o=g.trigger("eventLimitClick",null,{date:f,dayEl:d,moreEl:e,segs:b,hiddenSegs:q},p)),"popover"===o?h.showSegPopover(a,j,e,b):"string"==typeof o&&g.calendar.zoomTo(f,o)})},showSegPopover:function(r,q,p,o){var n,m,l=this,k=this.view,j=p.parent();n=1==this.rowCnt?k.el:this.rowEls.eq(r),m={className:"fc-more-popover",content:this.renderSegPopoverContent(r,q,o),parentEl:this.view.el,top:n.offset().top,autoHide:!0,viewportConstrain:k.opt("popoverViewportConstrain"),hide:function(){l.segPopover.removeElement(),l.segPopover=null,l.popoverSegs=null}},this.isRTL?m.right=j.offset().left+j.outerWidth()+1:m.left=j.offset().left-1,this.segPopover=new bP(m),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(r,q,p){var o,n=this.view,m=n.opt("theme"),l=this.getCellDate(r,q).format(n.opt("dayPopoverFormat")),k=bL('<div class="fc-header '+n.widgetHeaderClass+'"><span class="fc-close '+(m?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+bG(l)+'</span><div class="fc-clear"/></div><div class="fc-body '+n.widgetContentClass+'"><div class="fc-event-container"></div></div>'),a=k.find(".fc-event-container");for(p=this.renderFgSegEls(p,!0),this.popoverSegs=p,o=0;o<p.length;o++){this.prepareHits(),p[o].hit=this.getCellHit(r,q),this.releaseHits(),a.append(p[o].el)}return k},resliceDaySegs:function(a,l){var k=bL.map(a,function(b){return b.event}),j=l.clone(),i=j.clone().add(1,"days"),h={start:j,end:i};return a=this.eventsToSegs(k,function(d){var c=b7(d,h);return c?[c]:[]}),this.sortEventSegs(a),a},getMoreLinkText:function(d){var c=this.view.opt("eventLimitText");return"function"==typeof c?c(d):"+"+d+" "+c},getCellSegs:function(i,h,n){for(var m,l=this.rowStructs[i].segMatrix,k=n||0,j=[];k<l.length;){m=l[k][h],m&&j.push(m),k++}return j}});var an=bt.TimeGrid=aK.extend(aC,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aK.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new bh({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new bh({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var b,n,m,l=this.view,k=this.isRTL,j="",i=bK.duration(+this.minTime);i<this.maxTime;){b=this.start.clone().time(i),n=aH(bZ(i,this.labelInterval)),m='<td class="fc-axis fc-time '+l.widgetContentClass+'" '+l.axisStyleAttr()+">"+(n?"<span>"+bG(b.format(this.labelFormat))+"</span>":"")+"</td>",j+='<tr data-time="'+b.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(k?"":m)+'<td class="'+l.widgetContentClass+'"/>'+(k?m:"")+"</tr>",i.add(this.slotDuration)}return j},processOptions:function(){var h,g=this.view,b=g.opt("slotDuration"),a=g.opt("snapDuration");b=bK.duration(b),a=a?bK.duration(a):b,this.slotDuration=b,this.snapDuration=a,this.snapsPerSlot=b/a,this.minResizeDuration=a,this.minTime=bK.duration(g.opt("minTime")),this.maxTime=bK.duration(g.opt("maxTime")),h=g.opt("slotLabelFormat"),bL.isArray(h)&&(h=h[h.length-1]),this.labelFormat=h||g.opt("axisFormat")||g.opt("smallTimeFormat"),h=g.opt("slotLabelInterval"),this.labelInterval=h?bK.duration(h):this.computeLabelInterval(b)},computeLabelInterval:function(b){var h,g,f;for(h=aI.length-1;h>=0;h--){if(g=bK.duration(aI[h]),f=bZ(g,b),aH(f)&&f>1){return g}}return bK.duration(b)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return !0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(B,A){var z=this.snapsPerSlot,y=this.colCoordCache,x=this.slatCoordCache;if(y.isLeftInBounds(B)&&x.isTopInBounds(A)){var w=y.getHorizontalIndex(B),v=x.getVerticalIndex(A);if(null!=w&&null!=v){var u=x.getTopOffset(v),t=x.getHeight(v),s=(A-u)/t,r=Math.floor(s*z),q=v*z+r,p=u+r/z*t,o=u+(r+1)/z*t;return{col:w,snap:q,component:this,left:y.getLeftOffset(w),right:y.getRightOffset(w),top:p,bottom:o}}}},getHitSpan:function(f){var e,h=this.getCellDate(0,f.col),g=this.computeSnapTime(f.snap);return h.time(g),e=h.clone().add(this.snapDuration),{start:h,end:e}},getHitEl:function(b){return this.colEls.eq(b.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(b){return bK.duration(this.minTime+this.snapDuration*b)},spanToSegs:function(e){var d,f=this.sliceRangeByTimes(e);for(d=0;d<f.length;d++){this.isRTL?f[d].col=this.daysPerRow-1-f[d].dayIndex:f[d].col=f[d].dayIndex}return f},sliceRangeByTimes:function(h){var g,l,k,j,i=[];for(l=0;l<this.daysPerRow;l++){k=this.dayDates[l].clone(),j={start:k.clone().time(this.minTime),end:k.clone().time(this.maxTime)},g=b7(h,j),g&&(g.dayIndex=l,i.push(g))}return i},updateSize:function(b){this.slatCoordCache.build(),b&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(b,d){return this.computeTimeTop(bK.duration(b-d.clone().stripTime()))},computeTimeTop:function(g){var f,j,i=this.slatEls.length,h=(g-this.minTime)/this.slotDuration;return h=Math.max(0,h),h=Math.min(i,h),f=Math.floor(h),f=Math.min(f,i-1),j=h-f,this.slatCoordCache.getTopPosition(f)+this.slatCoordCache.getHeight(f)*j},renderDrag:function(d,c){return c?this.renderEventLocationHelper(d,c):void this.renderHighlight(this.eventToSpan(d))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(d,c){return this.renderEventLocationHelper(d,c)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(d,c){return this.renderHelperSegs(this.eventToSegs(d),c)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(a){var j,i=this.spanToSegs({start:a,end:a}),h=this.computeDateTop(a,a),g=[];for(j=0;j<i.length;j++){g.push(bL('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",h).appendTo(this.colContainerEls.eq(i[j].col))[0])}i.length>0&&g.push(bL('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",h).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=bL(g)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(b){this.view.opt("selectHelper")?this.renderEventLocationHelper(b):this.renderHighlight(b)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(b){this.renderHighlightSegs(this.spanToSegs(b))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});an.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var a,f,e="";for(a=0;a<this.colCnt;a++){e+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}f=bL('<div class="fc-content-skeleton"><table><tr>'+e+"</tr></table></div>"),this.colContainerEls=f.find(".fc-content-col"),this.helperContainerEls=f.find(".fc-helper-container"),this.fgContainerEls=f.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=f.find(".fc-bgevent-container"),this.highlightContainerEls=f.find(".fc-highlight-container"),this.businessContainerEls=f.find(".fc-business-container"),this.bookendCells(f.find("tr")),this.el.append(f)},renderFgSegs:function(b){return b=this.renderFgSegsIntoContainers(b,this.fgContainerEls),this.fgSegs=b,b},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(a,l){var k,j,i,h=[];for(a=this.renderFgSegsIntoContainers(a,this.helperContainerEls),k=0;k<a.length;k++){j=a[k],l&&l.col===j.col&&(i=l.el,j.el.css({left:i.css("left"),right:i.css("right"),"margin-left":i.css("margin-left"),"margin-right":i.css("margin-right")})),h.push(j.el[0])}return this.helperSegs=a,bL(h)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(b){return b=this.renderFillSegEls("bgEvent",b),this.updateSegVerticals(b),this.attachSegsByCol(this.groupSegsByCol(b),this.bgContainerEls),this.bgSegs=b,b},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(b){b=this.renderFillSegEls("highlight",b),this.updateSegVerticals(b),this.attachSegsByCol(this.groupSegsByCol(b),this.highlightContainerEls),this.highlightSegs=b},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(b){b=this.renderFillSegEls("businessHours",b),this.updateSegVerticals(b),this.attachSegsByCol(this.groupSegsByCol(b),this.businessContainerEls),this.businessSegs=b},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var d,f=[];for(d=0;d<this.colCnt;d++){f.push([])}for(d=0;d<e.length;d++){f[e[d].col].push(e[d])}return f},attachSegsByCol:function(g,f){var j,i,h;for(j=0;j<this.colCnt;j++){for(i=g[j],h=0;h<i.length;h++){f.eq(j).append(i[h].el)}}},unrenderNamedSegs:function(e){var d,f=this[e];if(f){for(d=0;d<f.length;d++){f[d].el.remove()}this[e]=null}},renderFgSegsIntoContainers:function(f,e){var h,g;for(f=this.renderFgSegEls(f),h=this.groupSegsByCol(f),g=0;g<this.colCnt;g++){this.updateFgSegCoords(h[g])}return this.attachSegsByCol(h,e),f},fgSegHtml:function(x,w){var v,u,t,s=this.view,r=x.event,q=s.isEventDraggable(r),p=!w&&x.isStart&&s.isEventResizableFromStart(r),o=!w&&x.isEnd&&s.isEventResizableFromEnd(r),n=this.getSegClasses(x,q,p||o),m=a5(this.getSegSkinCss(x));return n.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(r)?(x.isStart||x.isEnd)&&(v=this.getEventTimeText(x),u=this.getEventTimeText(x,"LT"),t=this.getEventTimeText(x,null,!1)):(v=this.getEventTimeText(r),u=this.getEventTimeText(r,"LT"),t=this.getEventTimeText(r,null,!1)),'<a class="'+n.join(" ")+'"'+(r.url?' href="'+bG(r.url)+'"':"")+(m?' style="'+m+'"':"")+'><div class="fc-content">'+(v?'<div class="fc-time" data-start="'+bG(t)+'" data-full="'+bG(u)+'"><span>'+bG(v)+"</span></div>":"")+(r.title?'<div class="fc-title">'+bG(r.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(o?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(b){this.computeSegVerticals(b),this.assignSegVerticals(b)},computeSegVerticals:function(e){var d,f;for(d=0;d<e.length;d++){f=e[d],f.top=this.computeDateTop(f.start,f.start),f.bottom=this.computeDateTop(f.end,f.start)}},assignSegVerticals:function(e){var d,f;for(d=0;d<e.length;d++){f=e[d],f.el.css(this.generateSegVerticalCss(f))}},generateSegVerticalCss:function(b){return{top:b.top,bottom:-b.bottom}},updateFgSegCoords:function(b){this.computeSegVerticals(b),this.computeFgSegHorizontals(b),this.assignSegVerticals(b),this.assignFgSegHorizontals(b)},computeFgSegHorizontals:function(f){var e,h,g;if(this.sortEventSegs(f),e=a7(f),a0(e),h=e[0]){for(g=0;g<h.length;g++){aR(h[g])}for(g=0;g<h.length;g++){this.computeFgSegForwardBack(h[g],0,0)}}},computeFgSegForwardBack:function(g,f,j){var i,h=g.forwardSegs;if(void 0===g.forwardCoord){for(h.length?(this.sortForwardSegs(h),this.computeFgSegForwardBack(h[0],f+1,j),g.forwardCoord=h[0].backwardCoord):g.forwardCoord=1,g.backwardCoord=g.forwardCoord-(g.forwardCoord-j)/(f+1),i=0;i<h.length;i++){this.computeFgSegForwardBack(h[i],0,g.forwardCoord)}}},sortForwardSegs:function(b){b.sort(aA(this,"compareForwardSegs"))},compareForwardSegs:function(d,c){return c.forwardPressure-d.forwardPressure||(d.backwardCoord||0)-(c.backwardCoord||0)||this.compareEventSegs(d,c)},assignFgSegHorizontals:function(e){var d,f;for(d=0;d<e.length;d++){f=e[d],f.el.css(this.generateFgSegHorizontalCss(f)),f.bottom-f.top<30&&f.el.addClass("fc-short")}},generateFgSegHorizontalCss:function(i){var h,n,m=this.view.opt("slotEventOverlap"),l=i.backwardCoord,k=i.forwardCoord,j=this.generateSegVerticalCss(i);return m&&(k=Math.min(1,l+2*(k-l))),this.isRTL?(h=1-k,n=l):(h=l,n=1-k),j.zIndex=i.level+1,j.left=100*h+"%",j.right=100*n+"%",m&&i.forwardPressure&&(j[this.isRTL?"marginLeft":"marginRight"]=20),j}});var af=bt.View=cD.extend(ac,cz,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(b,h,g,f){this.calendar=b,this.type=this.name=h,this.options=g,this.intervalDuration=f||bK.duration(1,"day"),this.nextDayThreshold=bK.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=ce(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(b){return this.options[b]},trigger:function(e,d){var f=this.calendar;return f.trigger.apply(f,[e,d||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(b){this.setRange(this.computeRange(b))},setRange:function(a){bL.extend(this,a),this.updateTitle()},computeRange:function(h){var g,l,k=b3(this.intervalDuration),j=h.clone().startOf(k),i=j.clone().add(this.intervalDuration);return/year|month|week|day/.test(k)?(j.stripTime(),i.stripTime()):(j.hasTime()||(j=this.calendar.time(0)),i.hasTime()||(i=this.calendar.time(0))),g=j.clone(),g=this.skipHiddenDays(g),l=i.clone(),l=this.skipHiddenDays(l,-1,!0),{intervalUnit:k,intervalStart:j,intervalEnd:i,start:g,end:l}},computePrevDate:function(b){return this.massageCurrentDate(b.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(b){return this.massageCurrentDate(b.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(d,c){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(d)&&(d=this.skipHiddenDays(d,c),d.startOf("day")),d},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(f,e,h){var g=f.end;return g.hasTime()||(g=g.clone().subtract(1)),aL(f.start,g,e,h,this.opt("isRTL"))},setElement:function(b){this.el=b,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(f,e){var h=this,g=null;return null!=e&&this.displaying&&(g=this.queryScroll()),this.calendar.freezeContentHeight(),al(this.clear(),function(){return h.displaying=al(h.displayView(f),function(){null!=e?h.setScroll(e):h.forceScroll(h.computeInitialScroll(g)),h.calendar.unfreezeContentHeight(),h.triggerRender()})})},clear:function(){var a=this,d=this.displaying;return d?al(d,function(){return a.displaying=null,a.clearEvents(),a.clearView()}):bL.when()},displayView:function(b){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),b&&this.setDate(b),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(bL(document),"mousedown",this.handleDocumentMousedown),this.listenTo(bL(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(bL(document))},initThemingProps:function(){var b=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=b+"-widget-header",this.widgetContentClass=b+"-widget-content",this.highlightStateClass=b+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var b,h,g,f=this;this.opt("nowIndicator")&&(b=this.getNowIndicatorUnit(),b&&(h=aA(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,g=this.initialNowDate.clone().startOf(b).add(1,b)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){f.nowIndicatorTimeoutID=null,h(),g=+bK.duration(1,b),g=Math.max(100,g),f.nowIndicatorIntervalID=setInterval(h,g)},g)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(b){},unrenderNowIndicator:function(){},updateSize:function(d){var c;d&&(c=this.queryScroll()),this.updateHeight(d),this.updateWidth(d),this.updateNowIndicator(),d&&this.setScroll(c)},updateWidth:function(b){},updateHeight:function(d){var c=this.calendar;this.setHeight(c.getSuggestedViewHeight(),c.isHeightAuto())},setHeight:function(d,c){},computeInitialScroll:function(b){return 0},queryScroll:function(){},setScroll:function(b){},forceScroll:function(d){var c=this;this.setScroll(d),setTimeout(function(){c.setScroll(d)},0)},displayEvents:function(d){var c=this.queryScroll();this.clearEvents(),this.renderEvents(d),this.isEventsRendered=!0,this.setScroll(c),this.triggerEventRender()},clearEvents:function(){var b;this.isEventsRendered&&(b=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(b),this.isEventsRendered=!1)},renderEvents:function(b){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(b){this.trigger("eventAfterRender",b.event,b.event,b.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(b){this.trigger("eventDestroy",b.event,b.event,b.el)})},resolveEventEl:function(a,f){var e=this.trigger("eventRender",a,a,f);return e===!1?f=null:e&&e!==!0&&(f=bL(e)),f},showEvent:function(b){this.renderedEventSegEach(function(c){c.el.css("visibility","")},b)},hideEvent:function(b){this.renderedEventSegEach(function(c){c.el.css("visibility","hidden")},b)},renderedEventSegEach:function(f,e){var h,g=this.getEventSegs();for(h=0;h<g.length;h++){e&&g[h].event._id!==e._id||g[h].el&&f.call(this,g[h])}},getEventSegs:function(){return[]},isEventDraggable:function(d){var c=d.source||{};return cf(d.startEditable,c.startEditable,this.opt("eventStartEditable"),d.editable,c.editable,this.opt("editable"))},reportEventDrop:function(j,i,p,o,n){var m=this.calendar,l=m.mutateEvent(j,i,p),k=function(){l.undo(),m.reportEventChange()};this.triggerEventDrop(j,l.dateDelta,k,o,n),m.reportEventChange()},triggerEventDrop:function(g,f,j,i,h){this.trigger("eventDrop",i[0],g,f,j,h,{})},reportExternalDrop:function(a,p,o,n,m){var l,k,j=a.eventProps;j&&(l=bL.extend({},j,p),k=this.calendar.renderEvent(l,a.stick)[0]),this.triggerExternalDrop(k,p,o,n,m)},triggerExternalDrop:function(g,f,j,i,h){this.trigger("drop",j[0],f.start,i,h),g&&this.trigger("eventReceive",null,g)},renderDrag:function(d,c){},unrenderDrag:function(){},isEventResizableFromStart:function(b){return this.opt("eventResizableFromStart")&&this.isEventResizable(b)},isEventResizableFromEnd:function(b){return this.isEventResizable(b)},isEventResizable:function(d){var c=d.source||{};return cf(d.durationEditable,c.durationEditable,this.opt("eventDurationEditable"),d.editable,c.editable,this.opt("editable"))},reportEventResize:function(j,i,p,o,n){var m=this.calendar,l=m.mutateEvent(j,i,p),k=function(){l.undo(),m.reportEventChange()};this.triggerEventResize(j,l.durationDelta,k,o,n),m.reportEventChange()},triggerEventResize:function(g,f,j,i,h){this.trigger("eventResize",i[0],g,f,j,h,{})},select:function(d,c){this.unselect(c),this.renderSelection(d),this.reportSelection(d,c)},renderSelection:function(b){},reportSelection:function(d,c){this.isSelected=!0,this.triggerSelect(d,c)},triggerSelect:function(d,c){this.trigger("select",null,this.calendar.applyTimezone(d.start),this.calendar.applyTimezone(d.end),c)},unselect:function(b){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,b))},unrenderSelection:function(){},selectEvent:function(b){this.selectedEvent&&this.selectedEvent===b||(this.unselectEvent(),this.renderedEventSegEach(function(c){c.el.addClass("fc-selected")},b),this.selectedEvent=b)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(b){b.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(b){return this.selectedEvent&&this.selectedEvent._id===b._id},handleDocumentMousedown:function(b){bo(b)&&this.processUnselect(b)},processUnselect:function(b){this.processRangeUnselect(b),this.processEventUnselect(b)},processRangeUnselect:function(a){var d;this.isSelected&&this.opt("unselectAuto")&&(d=this.opt("unselectCancel"),d&&bL(a.target).closest(d).length||this.unselect(a))},processEventUnselect:function(a){this.selectedEvent&&(bL(a.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(e,d,f){this.trigger("dayClick",d,this.calendar.applyTimezone(e.start),f)},initHiddenDays:function(){var a,h=this.opt("hiddenDays")||[],g=[],f=0;for(this.opt("weekends")===!1&&h.push(0,6),a=0;7>a;a++){(g[a]=-1!==bL.inArray(a,h))||f++}if(!f){throw"invalid hiddenDays"}this.isHiddenDayHash=g},isHiddenDay:function(b){return bK.isMoment(b)&&(b=b.day()),this.isHiddenDayHash[b]},skipHiddenDays:function(f,e,h){var g=f.clone();for(e=e||1;this.isHiddenDayHash[(g.day()+(h?e:0)+7)%7];){g.add(e,"days")}return g},computeDayRange:function(g){var f,j=g.start.clone().stripTime(),i=g.end,h=null;return i&&(h=i.clone().stripTime(),f=+i.time(),f&&f>=this.nextDayThreshold&&h.add(1,"days")),(!i||j>=h)&&(h=j.clone().add(1,"days")),{start:j,end:h}},isMultiDayEvent:function(d){var c=this.computeDayRange(d);return c.end.diff(c.start,"days")>1}}),cC=bt.Scroller=cD.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(b){b=b||{},this.overflowX=b.overflowX||b.overflow||"auto",this.overflowY=b.overflowY||b.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=bL('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(e){var d=this.overflowX,f=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===d&&(d=e.top||e.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===f&&(f=e.left||e.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":d,"overflow-y":f})},setHeight:function(b){this.scrollEl.height(b)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(b){this.scrollEl.scrollTop(b)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return bs(this.scrollEl)}}),cs=bt.Calendar=cD.extend({dirDefaults:null,langDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:au,initialize:function(){},populateOptionsHash:function(){var f,c,h,g;f=cf(this.dynamicOverrides.lang,this.overrides.lang),c=aV[f],c||(f=cs.defaults.lang,c=aV[f]||{}),h=cf(this.dynamicOverrides.isRTL,this.overrides.isRTL,c.isRTL,cs.defaults.isRTL),g=h?cs.rtlDefaults:{},this.dirDefaults=g,this.langDefaults=c,this.options=bJ([cs.defaults,g,c,this.overrides,this.dynamicOverrides]),am(this.options)},getViewSpec:function(d){var c=this.viewSpecCache;return c[d]||(c[d]=this.buildViewSpec(d))},getUnitViewSpec:function(a){var h,g,f;if(-1!=bL.inArray(a,ah)){for(h=this.header.getViewsWithButtons(),bL.each(bt.views,function(b){h.push(b)}),g=0;g<h.length;g++){if(f=this.getViewSpec(h[g]),f&&f.singleUnit==a){return f}}}},buildViewSpec:function(t){for(var s,r,q,p,o=this.overrides.views||{},n=[],m=[],c=[],b=t;b;){s=bc[b],r=o[b],b=null,"function"==typeof s&&(s={"class":s}),s&&(n.unshift(s),m.unshift(s.defaults||{}),q=q||s.duration,b=b||s.type),r&&(c.unshift(r),q=q||r.duration,b=b||r.type)}return s=bU(n),s.type=t,s["class"]?(q&&(q=bK.duration(q),q.valueOf()&&(s.duration=q,p=b3(q),1===q.as(p)&&(s.singleUnit=p,c.unshift(o[p]||{})))),s.defaults=bJ(m),s.overrides=bJ(c),this.buildViewSpecOptions(s),this.buildViewSpecButtonText(s,t),s):!1},buildViewSpecOptions:function(b){b.options=bJ([cs.defaults,b.defaults,this.dirDefaults,this.langDefaults,this.overrides,b.overrides,this.dynamicOverrides]),am(b.options)},buildViewSpecButtonText:function(e,d){function f(b){var a=b.buttonText||{};return a[d]||(e.singleUnit?a[e.singleUnit]:null)}e.buttonTextOverride=f(this.dynamicOverrides)||f(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=f(this.langDefaults)||f(this.dirDefaults)||e.defaults.buttonText||f(cs.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||d},instantiateView:function(d){var c=this.getViewSpec(d);return new c["class"](this,d,c.options,c.duration)},isValidViewType:function(b){return Boolean(this.getViewSpec(b))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(f,e){var h,g=this.moment(f).stripZone();return h=e?this.moment(e).stripZone():g.hasTime()?g.clone().add(this.defaultTimedEventDuration):g.clone().add(this.defaultAllDayEventDuration),{start:g,end:h}}});cs.mixin(ac),cs.mixin({optionHandlers:null,bindOption:function(d,c){this.bindOptions([d],c)},bindOptions:function(f,e){var h,g={func:e,names:f};for(h=0;h<f.length;h++){this.registerOptionHandlerObj(f[h],g)}this.triggerOptionHandlerObj(g)},registerOptionHandlerObj:function(d,c){(this.optionHandlers[d]||(this.optionHandlers[d]=[])).push(c)},triggerOptionHandlers:function(e){var d,f=this.optionHandlers[e]||[];for(d=0;d<f.length;d++){this.triggerOptionHandlerObj(f[d])}},triggerOptionHandlerObj:function(f){var e,h=f.names,g=[];for(e=0;e<h.length;e++){g.push(this.options[h[e]])}f.func.apply(this,g)}}),cs.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1000},cs.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},cs.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var aV=bt.langs={};bt.datepickerLang=function(a,h,g){var f=aV[a]||(aV[a]={});f.isRTL=g.isRTL,f.weekNumberTitle=g.weekHeader,bL.each(aM,function(d,c){f[d]=c(g)}),bL.datepicker&&(bL.datepicker.regional[h]=bL.datepicker.regional[a]=g,bL.datepicker.regional.en=bL.datepicker.regional[""],bL.datepicker.setDefaults(g))},bt.lang=function(a,h){var g,c;g=aV[a]||(aV[a]={}),h&&(g=aV[a]=bJ([g,h])),c=ae(a),bL.each(aE,function(e,d){null==g[e]&&(g[e]=d(c,g))}),cs.defaults.lang=a};var aM={buttonText:function(b){return{prev:be(b.prevText),next:be(b.nextText),today:be(b.currentText)}},monthYearFormat:function(b){return b.showMonthAfterYear?"YYYY["+b.yearSuffix+"] MMMM":"MMMM YYYY["+b.yearSuffix+"]"}},aE={dayOfMonthFormat:function(e,d){var f=e.longDateFormat("l");return f=f.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),d.isRTL?f+=" ddd":f="ddd "+f,f},mediumTimeFormat:function(b){return b.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(b){return b.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(b){return b.longDateFormat("LT").replace(/\s*a$/i,"")}},ax={smallDayDateFormat:function(b){return b.isRTL?"D dd":"dd D"},weekFormat:function(b){return b.isRTL?"w[ "+b.weekNumberTitle+"]":"["+b.weekNumberTitle+" ]w"},smallWeekFormat:function(b){return b.isRTL?"w["+b.weekNumberTitle+"]":"["+b.weekNumberTitle+"]w"}};bt.lang("en",cs.englishDefaults),bt.sourceNormalizers=[],bt.sourceFetchers=[];var ap={dataType:"json",cache:!1},ai=1;cs.prototype.normalizeEvent=function(b){},cs.prototype.spanContainsSpan=function(f,e){var h=f.start.clone().stripZone(),g=this.getEventEnd(f).stripZone();return e.start>=h&&e.end<=g},cs.prototype.getPeerEvents=function(h,g){var l,k,j=this.getEventCache(),i=[];for(l=0;l<j.length;l++){k=j[l],g&&g._id===k._id||i.push(k)}return i};var cE={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};cs.prototype.getCurrentBusinessHourEvents=function(b){return this.computeBusinessHourEvents(b,this.options.businessHours)},cs.prototype.computeBusinessHourEvents=function(a,d){return d===!0?this.expandBusinessHourEvents(a,[{}]):bL.isPlainObject(d)?this.expandBusinessHourEvents(a,[d]):bL.isArray(d)?this.expandBusinessHourEvents(a,d,!0):[]},cs.prototype.expandBusinessHourEvents=function(a,n,m){var l,k,j=this.getView(),i=[];for(l=0;l<n.length;l++){k=n[l],m&&!k.dow||(k=bL.extend({},cE,k),a&&(k.start=null,k.end=null),i.push.apply(i,this.expandEvent(this.buildEventFromInput(k),j.start,j.end)))}return i};var cx=bt.BasicView=af.extend({scroller:null,dayGridClass:av,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new cC({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var b=this.dayGridClass.extend(cn);return new b(this)},setRange:function(b){af.prototype.setRange.call(this,b),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(b)},computeRange:function(d){var c=af.prototype.computeRange.call(this,d);return/year|month/.test(c.intervalUnit)&&(c.start.startOf("week"),c.start=this.skipHiddenDays(c.start),c.end.weekday()&&(c.end.add(1,"week").startOf("week"),c.end=this.skipHiddenDays(c.end,-1,!0))),c},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var a=this.scroller.el.addClass("fc-day-grid-container"),d=bL('<div class="fc-day-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a),this.dayGrid.setElement(d),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var b=this.opt("eventLimit");return b&&"number"!=typeof b},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=bz(this.el.find(".fc-week-number")))},setHeight:function(f,e){var j,i,h=this.opt("eventLimit");this.scroller.clear(),bF(this.headRowEl),this.dayGrid.removeSegPopover(),h&&"number"==typeof h&&this.dayGrid.limitRows(h),j=this.computeScrollerHeight(f),this.setGridHeight(j,e),h&&"number"!=typeof h&&this.dayGrid.limitRows(h),e||(this.scroller.setHeight(j),i=this.scroller.getScrollbarWidths(),(i.left||i.right)&&(bH(this.headRowEl,i),j=this.computeScrollerHeight(f),this.scroller.setHeight(j)),this.scroller.lockOverflow(i))},computeScrollerHeight:function(b){return b-by(this.el,this.scroller.el)},setGridHeight:function(d,c){c?bA(this.dayGrid.rowEls):bB(this.dayGrid.rowEls,d,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(b){this.scroller.setScrollTop(b)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(d,c){return this.dayGrid.queryHit(d,c)},getHitSpan:function(b){return this.dayGrid.getHitSpan(b)},getHitEl:function(b){return this.dayGrid.getHitEl(b)},renderEvents:function(b){this.dayGrid.renderEvents(b),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(d,c){return this.dayGrid.renderDrag(d,c)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(b){this.dayGrid.renderSelection(b)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),cn={renderHeadIntroHtml:function(){var b=this.view;return b.weekNumbersVisible?'<th class="fc-week-number '+b.widgetHeaderClass+'" '+b.weekNumberStyleAttr()+"><span>"+bG(b.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(d){var c=this.view;return c.weekNumbersVisible?'<td class="fc-week-number" '+c.weekNumberStyleAttr()+"><span>"+this.getCellDate(d,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var b=this.view;return b.weekNumbersVisible?'<td class="fc-week-number '+b.widgetContentClass+'" '+b.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var b=this.view;return b.weekNumbersVisible?'<td class="fc-week-number" '+b.weekNumberStyleAttr()+"></td>":""}},bN=bt.MonthView=cx.extend({computeRange:function(e){var d,f=cx.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(d=Math.ceil(f.end.diff(f.start,"weeks",!0)),f.end.add(6-d,"weeks")),f},setGridHeight:function(d,c){c=c||"variable"===this.opt("weekMode"),c&&(d*=this.rowCnt/6),bB(this.dayGrid.rowEls,d,!c)},isFixedWeeks:function(){var b=this.opt("weekMode");return b?"fixed"===b:this.opt("fixedWeekCount")}});bc.basic={"class":cx},bc.basicDay={type:"basic",duration:{days:1}},bc.basicWeek={type:"basic",duration:{weeks:1}},bc.month={"class":bN,duration:{months:1},defaults:{fixedWeekCount:!0}};var bf=bt.AgendaView=af.extend({scroller:null,timeGridClass:an,timeGrid:null,dayGridClass:av,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new cC({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var b=this.timeGridClass.extend(a6);return new b(this)},instantiateDayGrid:function(){var b=this.dayGridClass.extend(aZ);return new b(this)},setRange:function(b){af.prototype.setRange.call(this,b),this.timeGrid.setRange(b),this.dayGrid&&this.dayGrid.setRange(b)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var a=this.scroller.el.addClass("fc-time-grid-container"),d=bL('<div class="fc-time-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a),this.timeGrid.setElement(d),this.timeGrid.renderDates(),this.bottomRuleEl=bL('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(b){this.timeGrid.renderNowIndicator(b)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(b){this.timeGrid.updateSize(b),af.prototype.updateSize.call(this,b)},updateWidth:function(){this.axisWidth=bz(this.el.find(".fc-axis"))},setHeight:function(f,e){var j,i,h;this.bottomRuleEl.hide(),this.scroller.clear(),bF(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),j=this.opt("eventLimit"),j&&"number"!=typeof j&&(j=aQ),j&&this.dayGrid.limitRows(j)),e||(i=this.computeScrollerHeight(f),this.scroller.setHeight(i),h=this.scroller.getScrollbarWidths(),(h.left||h.right)&&(bH(this.noScrollRowEls,h),i=this.computeScrollerHeight(f),this.scroller.setHeight(i)),this.scroller.lockOverflow(h),this.timeGrid.getTotalSlatHeight()<i&&this.bottomRuleEl.show())},computeScrollerHeight:function(b){return b-by(this.el,this.scroller.el)},computeInitialScroll:function(){var b=bK.duration(this.opt("scrollTime")),d=this.timeGrid.computeTimeTop(b);return d=Math.ceil(d),d&&d++,d},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(b){this.scroller.setScrollTop(b)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,d){var f=this.timeGrid.queryHit(e,d);return !f&&this.dayGrid&&(f=this.dayGrid.queryHit(e,d)),f},getHitSpan:function(b){return b.component.getHitSpan(b)},getHitEl:function(b){return b.component.getHitEl(b)},renderEvents:function(h){var g,l,k=[],j=[],i=[];for(l=0;l<h.length;l++){h[l].allDay?k.push(h[l]):j.push(h[l])}g=this.timeGrid.renderEvents(j),this.dayGrid&&(i=this.dayGrid.renderEvents(k)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(d,c){return d.start.hasTime()?this.timeGrid.renderDrag(d,c):this.dayGrid?this.dayGrid.renderDrag(d,c):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(b){b.start.hasTime()||b.end.hasTime()?this.timeGrid.renderSelection(b):this.dayGrid&&this.dayGrid.renderSelection(b)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),a6={renderHeadIntroHtml:function(){var d,c=this.view;return c.opt("weekNumbers")?(d=this.start.format(c.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+c.widgetHeaderClass+'" '+c.axisStyleAttr()+"><span>"+bG(d)+"</span></th>"):'<th class="fc-axis '+c.widgetHeaderClass+'" '+c.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var b=this.view;return'<td class="fc-axis '+b.widgetContentClass+'" '+b.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var b=this.view;return'<td class="fc-axis" '+b.axisStyleAttr()+"></td>"}},aZ={renderBgIntroHtml:function(){var b=this.view;return'<td class="fc-axis '+b.widgetContentClass+'" '+b.axisStyleAttr()+"><span>"+(b.opt("allDayHtml")||bG(b.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var b=this.view;return'<td class="fc-axis" '+b.axisStyleAttr()+"></td>"}},aQ=5,aI=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return bc.agenda={"class":bf,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},bc.agendaDay={type:"agenda",duration:{days:1}},bc.agendaWeek={type:"agenda",duration:{weeks:1}},bt});